<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from 127.0.0.1:8080/blog/taxonomy/term/449?page=1 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 19:14:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>ha | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/rss+xml" title="RSS - ha" href="0/feed/index.html" />
<link rel="shortcut icon" href="../../../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/aggregator/aggregator/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/node/node/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/poll/poll/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/defaults/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/system/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/system-menus/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/user/user/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/cck/theme/content-module/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/date/date/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/geshifilter/geshifilter/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../misc/farbtastic/farbtastic/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/calendar/calendar/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/views/css/views/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/taxonomy/taxonomy/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/typography/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/layout/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/style/index.css?9" />
<link type="text/css" rel="stylesheet" media="print" href="../../../sites/default/themes/barlow/print/index.css?9" />
</head>

<body class="not-front not-logged-in page-taxonomy one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../../../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../../../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../../../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../../../faq/index/index.html">FAQ</a> and  <a href="../../../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../../../index/index.html">Home</a></div></div>
  <h2 id="title">ha</h2>
<div class="content">
<div id="node-945" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-10-11T20:18:04+02:00">
  <span class="month">Oct</span>
  <span class="day">11</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../../monitoring-mysql-0/index.html">Monitoring MySQL</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_449 first active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_938"><a href="../938/index.html" rel="tag" title="">monitoring</a></li>
<li class="taxonomy_term_1304"><a href="../../../category/msql/index.html" rel="tag" title="">msql</a></li>
<li class="taxonomy_term_887"><a href="../887/index.html" rel="tag" title="">zabbix</a></li>
<li class="taxonomy_term_1182 last"><a href="../../../category/zenos/index.html" rel="tag" title="">zenos</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://ronaldbradford.com/blog/what-alert-monitoring-do-you-use-2009-10-07/" rel="nofollow">Ronald Bradford</a> wants to know what kind of Monitoring you use..<br />
He specifically wants to know about Alerting tools</p>
<p>There's different cases , looking at it from a full infrastructure point my current favourite is Zabbix or good old Nagios,</p>
<p>But when looking at it from a debugging perspective you have MySQLAR or Hyperic, but those aren't in the  alerting list.</p>
<p>However, when you are building HA clusters, you have custom scripts running either from mon  or from pacemaker ..</p>
<p>Still .. Ronald probably wants more input :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../monitoring-mysql-0/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-944" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-10-09T12:06:12+02:00">
  <span class="month">Oct</span>
  <span class="day">09</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../../why-learn-type/index.html">Why learn to type ?</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1303 first"><a href="../../../category/configure/index.html" rel="tag" title="">configure</a></li>
<li class="taxonomy_term_1302"><a href="../../../category/crm/index.html" rel="tag" title="">crm</a></li>
<li class="taxonomy_term_449 last active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
</ul></span>
        </div>
  <div class="content"><p>When your machine knows what you mean .. </p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[s3p-root@XMS-1 tomcat6]# crm configure </div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">crm(live)configure# bye</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[s3p-root@XMS-1 tomcat6]# crm confiure </div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">crm(live)configure# bye</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[s3p-root@XMS-1 tomcat6]# crm confiture </div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">crm(live)configure# bye</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[s3p-root@XMS-1 tomcat6]# </div></li></ol></pre></div></p>
<p>I'd better<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">apt-get install coffee</div></li></ol></pre></div></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../why-learn-type/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-922" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-07-01T16:01:57+02:00">
  <span class="month">Jul</span>
  <span class="day">01</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../../drbd2-ocfs2-unexplained-crashes/index.html">DRBD2, OCFS2,  Unexplained crashes</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_899 first"><a href="../899/index.html" rel="tag" title="">drbd</a></li>
<li class="taxonomy_term_434"><a href="../434/index.html" rel="tag" title="">gfs</a></li>
<li class="taxonomy_term_449 active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_1268"><a href="../../../category/iscsi/index.html" rel="tag" title="">iscsi</a></li>
<li class="taxonomy_term_1269"><a href="../../../category/netconsole/index.html" rel="tag" title="">netconsole</a></li>
<li class="taxonomy_term_1267 last"><a href="../../../category/ocfs2/index.html" rel="tag" title="">ocfs2</a></li>
</ul></span>
        </div>
  <div class="content"><p>I was trying to setup a dual-primary DRBD environment, with a shared disk with either OCFS2 or GFS.   The environment is a Centos 5.3 with DRBD82 (but also tried with DRBD83 from testing) .</p>
<p>Setting up a single primary disk and running bonnie++ on it worked Setting up a dual-primary disk, only mounting it on one node (ext3) and running bonnie++  worked</p>
<p>When setting up ocfs2 on the /dev/drbd0 disk and mounting it on both nodes, basic functionality seemed in place but usually less than 5-10 minutes after I start bonnie++ as a test on one of the nodes , both nodes power cycle  with no errors in the logfiles, just a crash.</p>
<p>When at the console at the time of crash it looks like a disk IO (you can type , but actions happen)  block happens  then a reboot, no panics, no oops , nothing. ( sysctl panic values set to timeouts etc )<br />
Setting up a dual-primary disk , with ocfs2 only mounting it on one node and starting bonnie++ causes only that node to crash.</p>
<p>On DRBD level I got the following error when that node disappears<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drbd0: PingAck did not arrive in time.</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drbd0: peer( Primary -&gt; Unknown ) conn( Connected -&gt; NetworkFailure )</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">pdsk(UpToDate -&gt; DUnknown )</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drbd0: asender terminated</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drbd0: Terminating asender thread</div></li></ol></pre></div><br />
That however is an expected error because of the reboot.</p>
<p>At first I assumed OCFS2 to be the root of this problem ..so I moved forward and setup an ISCSI target on a 3rd node, and used that device with the same OCFS2 setup. There no crashes occured and bonnie++ flawlessly completed it test run. </p>
<p>So my attention went  back to the combination of DRBD and OCFS<br />
I tried both DRBD 8.2 drbd82-8.2.6-1.el5.centos kmod-drbd82-8.2.6-2  and the 83 variant from Centos Testing</p>
<p>At first I was trying with the ocfs2 1.4.1-1.el5.i386.rpm verson but upgrading to  1.4.2-1.el5.i386.rpm didn't change the behaviour </p>
<p>Both the DRBD as the OCFS mailinglist were fairly supportive pointing me out that it was probably OCFS2 fencing both hosts after missing the heartbeat, and suggested increasing the deathtimetimeout values.</p>
<p>I however wanted to confirm that. As I got no entries in syslog I attached a Cyclades err Avocent Terminal server to the device in the hope that I'd capture the last kernel messsages there ...   no such luck either.</p>
<p>On the OCFS2 mailinlist people pointed out that i'd use netconsole to catch the logs on a remote node<br />
I set up netconsole using</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">modprobe  netconsole netconsole=&quot;@/,@172.16.32.1/&quot;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">sysctl -w kernel.printk=&quot;7 4 1 7&quot;</div></li></ol></pre></div></p>
<p>After which indeed I catched error on my remote host..<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">[base-root@CCMT-A ~]# nc -l -u -p 6666</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">(8,0):o2hb_write_timeout:166 ERROR: Heartbeat write timeout to device</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drbd0 after 478000 milliseconds</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">(8,0):o2hb_stop_all_regions:1873 ERROR: stopping heartbeat on all active</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">regions.</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">ocfs2 is very sorry to be fencing this system by restarting</div></li></ol></pre></div></p>
<p>One'd think that it output over Serial console before it log over the network :)   It doesn't .</p>
<p>Next step is that I`ll start fiddling some more with the timeout values :)  (note the ":)")</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-869" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-02-02T22:00:36+01:00">
  <span class="month">Feb</span>
  <span class="day">02</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../../everything-fine-whitespace-problem/index.html">Everything is a fine whitespace problem ... </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_449 first active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_475"><a href="../475/index.html" rel="tag" title="">heartbeat</a></li>
<li class="taxonomy_term_562"><a href="../562/index.html" rel="tag" title="">linux-ha</a></li>
<li class="taxonomy_term_1178"><a href="../../../category/whitespace/index.html" rel="tag" title="">whitespace</a></li>
<li class="taxonomy_term_1177 last"><a href="../../../category/xml/index.html" rel="tag" title="">xml</a></li>
</ul></span>
        </div>
  <div class="content"><p>Couple of days ago I was working on a Linux Heartbeat v2 setup.<br />
Upon inserting an XML snippet into the cib  cib-adm started eating memory fast until the oom killer kicked in.</p>
<p>The environment  was running a fairly old heartbeat-2.0.8 version so I upgraded to  heartbeat-2.1.4-2.1  and there I got a nice warning that my XML sintax wasn't correct.</p>
<p>There was a whitespace in the XML syntax.</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&lt;expression attribute=&quot;#replicationvalue&quot; id=&quot;is_lagged&quot; operation =&quot;gt&quot;  ... &gt;&lt;</div></li></ol></pre></div></p>
<p>Removing the  whitespace solves the problem, also on the older version.  So the problem is already fixed upstream.. but you might run into it anyhow.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../everything-fine-whitespace-problem/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-750" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-10-25T15:56:28+02:00">
  <span class="month">Oct</span>
  <span class="day">25</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/750/index.html">Wholesale High Availability</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1073 first"><a href="../1073/index.html" rel="tag" title="">alan robertson</a></li>
<li class="taxonomy_term_449 active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_673"><a href="../673/index.html" rel="tag" title="">high-availability</a></li>
<li class="taxonomy_term_562"><a href="../562/index.html" rel="tag" title="">linux-ha</a></li>
<li class="taxonomy_term_464"><a href="../464/index.html" rel="tag" title="">vapourware</a></li>
<li class="taxonomy_term_672 last"><a href="../672/index.html" rel="tag" title="">virtualization</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://techthoughts.typepad.com/managing_computers/2008/10/using-virtualization-to-provide-ha-at-wholesale.html" rel="nofollow">Alan</a> just coined WholeSale HA.  The idea of  rebooting a whole virtual machine rather than just failing over 1 service.</p>
<p>He wants to have the best of both worlds in 1 framework, he however doesn't specify what parts he likes from the WholeSale HA setup</p>
<p>Yes you want to use it coupled with hardware predictive failure analysis tools. In order to achieve Higher Availabilty, but I don't think the WholeSale HA part is real HA.</p>
<p>WholeSale HA isn't going to be fast enough for most of the business critical environments.<br />
You simply cannot afford to reboot or even boot a full machine and the related downtime that brings for your service.</p>
<p>So yes a best effort combination, but with a strong focus on the application state would be preferred.  WholeSale is a good start .. but it's definitely not where you want to stop.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-730" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-09-24T17:27:26+02:00">
  <span class="month">Sep</span>
  <span class="day">24</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../bug-ifconfig/index.html">Bug in ifconfig ? </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_449 first active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_475"><a href="../475/index.html" rel="tag" title="">heartbeat</a></li>
<li class="taxonomy_term_1032"><a href="../1032/index.html" rel="tag" title="">ifconfig</a></li>
<li class="taxonomy_term_1031"><a href="../1031/index.html" rel="tag" title="">ip</a></li>
<li class="taxonomy_term_562"><a href="../562/index.html" rel="tag" title="">linux-ha</a></li>
<li class="taxonomy_term_599 last"><a href="../599/index.html" rel="tag" title="">opensource</a></li>
</ul></span>
        </div>
  <div class="content"><p>So earlier this week I ran into the weirdest problem with Linux-HA.  Heartbeat was happily adding an IP address as an active resource so one of my nodes when needed, but upon removal it failed to remove the IP from the stack.  Further debugging learned that the Heartbeat scripts claimed the ip wasn't on the actual stack.</p>
<p>It was.. but it the output from ifconfig was different from what it expected it to be.</p>
<p>Heartbeat checks the output of ifconfig and expects to find the IP address it added itselve to be on a :0 or similar interface.     Now ifconfig only seems output 8 characters for the interface name  Which means that when you have an interface called eth0:0 the output perfectly lists it and heartbea<br />
t is smart enough to remove the ip again when the node goes to standby.  If however you have   a vlan with 3 digits on a bond interface Heartbeat will add :0 to bond0.129  , the Heartbeat resource will add the ip address perfectly but opon checking all the :0 interfaces the bond0.129:0 interface won't be parsed as ifconfig outputs it as bond0.129 , hence resulting in a potential painfull situation where 2 nodes still share an IP address.</p>
<p>So where's the actual problem ifconfig, or heartbeat,   I'd say both, but the easiest fix will be in  Heartbeat,  afterall there are other preferred ways of adding an ip addres to an interface. ip addr add comes to mind :)</p>
<p>So I filed a <a href="http://developerbugs.linux-foundation.org/show_bug.cgi?id=1968" rel="nofollow">bug report</a> :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../bug-ifconfig/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-713" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-08-25T21:02:12+02:00">
  <span class="month">Aug</span>
  <span class="day">25</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/713/index.html">Raid is obsolete</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_999 first"><a href="../999/index.html" rel="tag" title="">availability</a></li>
<li class="taxonomy_term_449 active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_458"><a href="../458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_923"><a href="../923/index.html" rel="tag" title="">obsolete</a></li>
<li class="taxonomy_term_998"><a href="../998/index.html" rel="tag" title="">performance</a></li>
<li class="taxonomy_term_995"><a href="../995/index.html" rel="tag" title="">raid</a></li>
<li class="taxonomy_term_997"><a href="../997/index.html" rel="tag" title="">raif</a></li>
<li class="taxonomy_term_996"><a href="../996/index.html" rel="tag" title="">rais</a></li>
<li class="taxonomy_term_630"><a href="../630/index.html" rel="tag" title="">scaling</a></li>
<li class="taxonomy_term_1000 last"><a href="../1000/index.html" rel="tag" title="">troughput</a></li>
</ul></span>
        </div>
  <div class="content"><p>In a lot of environments.</p>
<p><a href="http://www.mysqlperformanceblog.com/2008/08/21/rendundant-array-of-inexpensive-servers/" rel="nofollow">Peter</a> gives a nice overview why you don't always need to invest in big fat redundant hardware.</p>
<p>We've tackled the topic last year <a href="http://www.krisbuytaert.be/blog/node/388">already</a> ..</p>
<p>Now I often get weird looks when I dare to mention that Raid is obsolete ..people fail to hear the "in a lot of environments"</p>
<p>Obviously the catch is in the second part, you won't be doing this for your small shop around the corner with just one machine.  You'll only be doing this in an environment where you can work with a redundant array of inexpensive disks. Not with a server that has to sit in a remote and isolated location.</p>
<p>Next to that there are situations where you will be using raid, but not for redundancy, but for disk throughput.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/713/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-657" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-04-28T19:33:07+02:00">
  <span class="month">Apr</span>
  <span class="day">28</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../mysql-and-drbd-often-say-no/index.html">MySQL and DRBD, Often say NO :) </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_899 first"><a href="../899/index.html" rel="tag" title="">drbd</a></li>
<li class="taxonomy_term_449 active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_458 last"><a href="../458/index.html" rel="tag" title="">mysql</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://fghaas.wordpress.com/2008/04/27/drbd-and-mysql-just-say-yes/" rel="nofollow">Florian</a> is replying to <a href="http://www.jebriggs.com/blog/mysql/drbd-and-mysql-just-say-no.html" rel="nofollow">James</a> on the subject of using DRBD for MySQL HA.   A discussion started earlier <a href="http://ebergen.net/wordpress/2007/04/02/drbd-in-the-real-world/" rel="nofollow">by Eric</a>  Florian is refuting most of the arguments that James has against using MySQL and DRBD together.</p>
<p>I`m also saying NO to MySQL and DRBD in most of the cases.. but not for any of the reasons James mentions.</p>
<p>I must say upfront I love DRBD and I have been  using it in production for a long time but not for MySQL HA.  </p>
<p>The problem with using MySQL on DRBD is the same problem you have when killing the power on a standalone MySQL machine and rebooting that machine.<br />
DRBD saves you the time of powering up your machine and OS.  But MySQL still needs to be started again on the standby machine.  (In limited cases you might have a lengthy startup process due to eg. Innodb consitency checks)   But for lots of organisations this (even limited) downtime is not acceptable.</p>
<p>Both MySQL Cluster and MultiMaster replication give you constant access to your data on more nodes .</p>
<p>For lots of shops, those not needing to scale, those that can live with a limited downtime, DRBD and MySQL  is a good match,   </p>
<p>But if you want to achieve real high availability as compared to less downtime.  or if you are looking to scale your MySQL and want to benefit from HA while you are at it , then MultiMaster is probably the preferred alternative as opposed to DRBD.</p>
<p>In the meanwhile I`ll be happy serving other data from my DRBD volumes ;)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../mysql-and-drbd-often-say-no/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-651" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-04-21T23:11:20+02:00">
  <span class="month">Apr</span>
  <span class="day">21</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/651/index.html">Remus got awarded best paper</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_449 first active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_895"><a href="../895/index.html" rel="tag" title="">remus</a></li>
<li class="taxonomy_term_470 last"><a href="../470/index.html" rel="tag" title="">xen</a></li>
</ul></span>
        </div>
  <div class="content"><p>The <a href="http://www.usenix.org/events/nsdi08/tech/cully.html" rel="nofollow">Remus</a> paper I blogged about <a href="http://virtualization.com/guest-posts-guestposts/2008/04/16/remus-high-availability-via-asynchronous-virtual-machine-replication/" rel="nofollow">earlier</a> seems to have won the Best Paper Award at NSDI.   Good to hear .. err read ! :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-585" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-02-06T19:56:36+01:00">
  <span class="month">Feb</span>
  <span class="day">06</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/585/index.html">It&#039;s February again</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_449 first active"><a href="index.html" rel="tag" title="" class="active">ha</a></li>
<li class="taxonomy_term_475"><a href="../475/index.html" rel="tag" title="">heartbeat</a></li>
<li class="taxonomy_term_584"><a href="../584/index.html" rel="tag" title="">oreilly</a></li>
<li class="taxonomy_term_769"><a href="../769/index.html" rel="tag" title="">raskas</a></li>
<li class="taxonomy_term_470 last"><a href="../470/index.html" rel="tag" title="">xen</a></li>
</ul></span>
        </div>
  <div class="content"><p>It seems like for the past <a href="http://www.oreillynet.com/pub/au/1737" rel="nofollow">4 years</a> February is the month that  O'Reilly really loves me and decides to publish one of my articles.</p>
<p>This years version was cowritten together with my collegue <a href="http://www.raskas.be/blog/" rel="nofollow">Johan Huysmans</a> and tackles the creation of <a href="http://www.onlamp.com/pub/a/onlamp/2008/02/05/using-xen-for-high-availabilty-clusters.html" rel="nofollow">Highly Available Gateways</a></p>
<p>Altough the every HA situation is different and this is a pretty easy setup it's a good start for other setups.</p>
<p>Enjoy the read</p>
<p>PS.  Yes I know , in 2006 I also had a January article :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div class="item-list"><ul class="pager"><li class="pager-first first"><a href="index.html" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="index.html" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-item"><a href="index.html" title="Go to page 1" class="active">1</a></li>
<li class="pager-current">2</li>
<li class="pager-item"><a href="index2.html?page=2" title="Go to page 3" class="active">3</a></li>
<li class="pager-next"><a href="index2.html?page=2" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="index2.html?page=2" title="Go to last page" class="active">last »</a></li>
</ul></div></div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>

<!-- Mirrored from 127.0.0.1:8080/blog/taxonomy/term/449?page=1 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 19:14:27 GMT -->
</html>
