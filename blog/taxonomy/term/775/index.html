<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>automation | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/rss+xml" title="RSS - automation" href="0/feed/index.html" />
<link rel="shortcut icon" href="../../../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/aggregator/aggregator/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/node/node/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/poll/poll/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/defaults/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/system/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/system-menus/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/user/user/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/cck/theme/content-module/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/date/date/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/geshifilter/geshifilter/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../misc/farbtastic/farbtastic/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/calendar/calendar/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/views/css/views/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/taxonomy/taxonomy/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/typography/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/layout/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/style/index.css?i" />
<link type="text/css" rel="stylesheet" media="print" href="../../../sites/default/themes/barlow/print/index.css?i" />
</head>

<body class="not-front not-logged-in page-taxonomy one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../../../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../../../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../../../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../../../faq/index/index.html">FAQ</a> and  <a href="../../../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
<p><a href="../../../rss/index.xml">Feed</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../../../index/index.html">Home</a></div></div>
  <h2 id="title">automation</h2>
<div class="content">
<div id="node-1040" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-04-20T22:36:03+02:00">
  <span class="month">Apr</span>
  <span class="day">20</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="../../../4158-second-catalog-run/index.html">The 4158 second catalog run.</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_775 first active"><a href="index.html" rel="tag" title="" class="active">automation</a></li>
<li class="taxonomy_term_439"><a href="../439/index.html" rel="tag" title="">puppet</a></li>
<li class="taxonomy_term_1450"><a href="../../../category/sipx/index.html" rel="tag" title="">sipx</a></li>
<li class="taxonomy_term_1449 last"><a href="../../../category/uid/index.html" rel="tag" title="">uid</a></li>
</ul></span>
        </div>
  <div class="content"><p>Two of my tweets , sorry dents, earlier today caused some people to ask me what on earth I was doing :)</p>
<p><cite>You don't exist, go away! </cite></p>
<p>Was the first one, indeed .. it was a long time since I had actually seen that one..  this actually happens when you delete the user you are logged in with on a host, when the host notices you don't exist anymore it will tell you.</p>
<p>Now that is exactly what happend ..  We were busy reordening the uid's on some hosts ,  so I modified the puppet config for that host and changed the uid values,   a couple of minutes later I was told that I don't exist ..</p>
<p>The last time I saw that , was about 10 years ago when I was trying to fool some collegues :)</p>
<p>Now the second tweet that tracked some people's attention was the one about a very lengthy catalog run</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">Apr 20 05:12:42 sipx-a puppet-agent[22384]: Finished catalog run in 4158.09 seconds</div></li></ol></pre></div><br />
Indeed, a puppet catalog run of about 69 minutes, yes thats 1 hour and 9 minutes ..</p>
<p>The reason for this lengthy catalog run was the above uid reordering , combined with<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">       &quot;/var/sipxdata/&quot;:</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">                        owner =&gt; &quot;sipxchange&quot;, group =&gt; &quot;sipxchange&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">                        recurse =&gt; true,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">                        ensure =&gt; directory;</div></li></ol></pre></div></p>
<p>And about 5K files in that directory ..   apparently recurse doesn't translate to chown -R yet :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../4158-second-catalog-run/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-1028" class="node teaser blog cal">
    <acronym class="calendar published" title="2011-01-12T21:28:58+01:00">
  <span class="month">Jan</span>
  <span class="day">12</span>
    <span class="year">2011</span>
    </acronym>
    <h2 class="title"><a href="../../../appliance-or-not-appliance/index.html">Appliance or Not Appliance</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_775 first active"><a href="index.html" rel="tag" title="" class="active">automation</a></li>
<li class="taxonomy_term_1328"><a href="../../../category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_632"><a href="../632/index.html" rel="tag" title="">infrastructure</a></li>
<li class="taxonomy_term_599"><a href="../599/index.html" rel="tag" title="">opensource</a></li>
<li class="taxonomy_term_439"><a href="../439/index.html" rel="tag" title="">puppet</a></li>
<li class="taxonomy_term_814 last"><a href="../814/index.html" rel="tag" title="">security</a></li>
</ul></span>
        </div>
  <div class="content"><p>That's the question <a href="http://blog.rootshell.be/2011/01/05/security-diy-or-plugnplay/" rel="nofollow">Xavier</a> asks in his blog entry titled<br />
Security: DIY or Plugâ€™n'Play</p>
<p>To me the answer is simple,   most of the appliances I ran into so far have no way of configuring them apart from the ugly webgui they ship with their device.  That means that I can't integrate them with the configuration management framework I have in place for the rest of the infrastructure.      There is no way to automatically modify e.g firewall rules together with the relocation of a service which does happen automatically, and there is always some kind of manual interaction required.    Applicances tend to sit on a island,  either stay un managed ( be honest when's the last time you upgraded the firmware of that terminal server ? ) , or take a lot of additional efort to manage manually.  They require yet another set of tools than the set you are already using to manage your network.<br />
They don't integrate with your backup strategy,  and don't tell me they all come with perfect MIB's.</p>
<p>There's other arguments one could bring up against appliances, obviously people can spread fud about some organisation alledgedly paying people to put backdoors in certain operation systems.. so why would they not pay people to put backdoors in appliances , they don't even need to hide them in there ..  but my main concern is manageability .. and only a  web gui to manage the box to me just means that the <a href="http://queue.acm.org/detail.cfm?id=1921361" rel="nofollow">vendor</a> hates me and dooesn't want my business</p>
<p>A good Appliance (either security or other type) needs to provide me an API that I can use to configure it,  in all other cases I prefer a DIY platform, as I can keep it in line with all my other tools, config mgmtn, deployment, upgrade strategies etc.</p>
<p>Mabye a last question for Xavier to finish my reply ... I`m wondering how Xavier thinks he kan achieve High-availability by using a Virtual environment  for Virtual Appliances that are not cluster aware using the virtual environment.    A fake comfortable feeling of higher availability , maybe..  but High Availability  that I'd like to see.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../appliance-or-not-appliance/index.html#comments" title="Jump to the first comment of this posting.">4 comments</a></li>
</ul></div>
</div>
<div id="node-1005" class="node teaser blog cal">
    <acronym class="calendar published" title="2010-05-27T10:03:29+02:00">
  <span class="month">May</span>
  <span class="day">27</span>
    <span class="year">2010</span>
    </acronym>
    <h2 class="title"><a href="../../../building-virtual-appliances/index.html">Building Virtual Appliances</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_775 first active"><a href="index.html" rel="tag" title="" class="active">automation</a></li>
<li class="taxonomy_term_1328"><a href="../../../category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_506"><a href="../506/index.html" rel="tag" title="">kvm</a></li>
<li class="taxonomy_term_1046"><a href="../1046/index.html" rel="tag" title="">virtualbox</a></li>
<li class="taxonomy_term_672"><a href="../672/index.html" rel="tag" title="">virtualization</a></li>
<li class="taxonomy_term_470 last"><a href="../470/index.html" rel="tag" title="">xen</a></li>
</ul></span>
        </div>
  <div class="content"><p>Johan from <a href="http://sizingservers.be/">Sizing Servers</a> asked me if I could talk about my experiences on building (virtual) appliances at their Advanced Virtualization and Hybrid Cloud seminar .    Off course I said yes .. </p>
<p>Slides are below ... Enjoy ..</p>
<div style="width:425px" id="__ss_4321121"><strong style="display:block;margin:12px 0 4px"><a href="http://www.slideshare.net/KrisBuytaert/building-appliances" title="Building appliances">Building appliances</a></strong>
<object id="__sse4321121" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=buildingappliances-100526211332-phpapp01&amp;stripped_title=building-appliances" /><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><embed name="__sse4321121" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=buildingappliances-100526211332-phpapp01&amp;stripped_title=building-appliances" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><div style="padding:5px 0 12px">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/KrisBuytaert">Kris Buytaert</a>.</div>
</div>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-866" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-01-28T23:29:29+01:00">
  <span class="month">Jan</span>
  <span class="day">29</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../../what-does-your-bofh-want/index.html">What does your BOFH want ? :)</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_775 first active"><a href="index.html" rel="tag" title="" class="active">automation</a></li>
<li class="taxonomy_term_1172"><a href="../../../category/bof/index.html" rel="tag" title="">bof</a></li>
<li class="taxonomy_term_1077"><a href="../1077/index.html" rel="tag" title="">devministration</a></li>
<li class="taxonomy_term_484"><a href="../484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_452"><a href="../452/index.html" rel="tag" title="">lisa</a></li>
<li class="taxonomy_term_461"><a href="../461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_599"><a href="../599/index.html" rel="tag" title="">opensource</a></li>
<li class="taxonomy_term_1173 last"><a href="../../../category/system-administration/index.html" rel="tag" title="">system administration</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://www.garfieldtech.com/blog/drupal-system-tools" rel="nofollow">Larry</a>, I`m glad  you asked ..</p>
<p>With the risk of receiving a flood of comments pointing me to already existing tools here's my go at what I as a sysadmin of often large deployments am looking for in Drupalland .</p>
<p>You suggest LDAP and syslog integration .. guess we already have that don't we ? </p>
<p>But what I haven't found yet ..<br />
An rpm/deb repository  of Drupal modules So we can do an apt-get install drupal-package , yes I know about Drush, but I want the files on my system to be in a package and clearly identified, it helps me keeping my system uncluttered.</p>
<p>apt-get update drupal-package  , or yum install drupal-package would be a luxury,  same for themes btw.</p>
<p>It would be lovely if the postinstalls of those package also trigger a database upgrade if needed.</p>
<p>Which brings me to the next issue.   If I have a multisite setup  and I update a module in sites/all/modules,  I usually have to go trough each and every site hosted there to update the databases.    No really something I like to do for 10+ euh 3+ sites.</p>
<p>Also think big, don't waste your time on desktop apps or guis .since as long as you only have  1 site to manage point an click is fine,  for you ,  Think in terms of what if you have 10 sites, 100 sites, or more .. do you really want to do that kind of administration via a browser or gui ? Some wise man once said <cite>If your computer can't install it the installer is broken</cite>.  A script should or automation tool should be able to interact with the sites,  not a human operating a mouse ;)  It's not just the RSI , but also the fact that to err is human, and if the computer fails a script you can patch it :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../what-does-your-bofh-want/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-754" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-10-27T18:57:40+01:00">
  <span class="month">Oct</span>
  <span class="day">27</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/754/index.html">DevMinistration</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_775 first active"><a href="index.html" rel="tag" title="" class="active">automation</a></li>
<li class="taxonomy_term_1037"><a href="../1037/index.html" rel="tag" title="">cloud</a></li>
<li class="taxonomy_term_1077"><a href="../1077/index.html" rel="tag" title="">devministration</a></li>
<li class="taxonomy_term_1078"><a href="../1078/index.html" rel="tag" title="">devministrator</a></li>
<li class="taxonomy_term_439 last"><a href="../439/index.html" rel="tag" title="">puppet</a></li>
</ul></span>
        </div>
  <div class="content"><p>In his <a href="http://www.johnmwillis.com/cloudcafe/cloud-cafe-18-the-puppet-vs-the-meat-cloud/" rel="nofollow">CloudCafe 18 Podcast</a> John talks  about Puppet to   <a href="http://madstop.com/" rel="nofollow">Luke</a>   and they coin the idea of Devministration</p>
<p>I really like the terminology, so I`m a devministrator,  and probably the bigger part of <a href="http://www.inuits.be/">Inuits</a> are Devministrators.</p>
<p>The first stage in becoming a devministrator is using version control, then bugtracking ..  etc.<br />
Coming from an era where I was the sysadmin pushing the developers to use version control this sounds really strange to me..<br />
Yes I had to convince developers to use version control,  while Luke thinks he needs to convince sysadmins to use version control.<br />
Weird.. other continent, other habits, but the important part is we all use it.</p>
<p>But the big part is that we don't spend our time managing servers, but rather scripting the automation of the management.  Learning machines how they should manage our configs and automate.</p>
<p>Like the old Google saying, you have to automate yourself out of a job every 18 months. </p>
<p>Guess that's also what ad Devministrator is.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-588" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-02-07T20:41:48+01:00">
  <span class="month">Feb</span>
  <span class="day">07</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/588/index.html">The Mantra and it&#039;s implementation</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_775 first active"><a href="index.html" rel="tag" title="" class="active">automation</a></li>
<li class="taxonomy_term_774 last"><a href="../774/index.html" rel="tag" title="">mantra</a></li>
</ul></span>
        </div>
  <div class="content"><p>Twice in one day I  was pointed to The Mantra .. the vision , the good practices on how to run an infrastructure.   And because I fully agree with this way of runing an infrastructure I`ll highlight some of them again .</p>
<ul>
<li>Design For Change , the google way.. everything will be different the next time you look around
</li><li>Be reproducable ,  you have to be able to survive the 10th floor test .. yes even when building stuff
</li><li>Design Redundancy upfront ,  don't try to squeeze it in later .. it will be more expensive and you will be less flexible
</li><li> ...
</li></ul>
<p><a href="http://dormando.livejournal.com/484577.html">Dormando</a> has some more reading material.<br />
And when you are done reading Go watch the video of <a href="http://www.infoq.com/presentations/shoup-ebay-architectural-principles">Randy Shoups presentation on Amazon's infrastructure</a>, because also at Amazon  we can find 4 repeatedly discussed points in the Architectural strategy</p>
<ul>
<li>Partition Everything
</li><li>Automate Everything
</li><li>Async Everything
</li><li>Prepare for Failure
</li>
<p>It's a repeating theme , with variations based on your specific problem domain..  but the central toughts stay the same.</p>
<p><center></center></p>
<h1>Automate Everything</h1>
<p><br /></p>
<h1>Expect  Failure</h1>
<p></p>
</ul></div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
</div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
