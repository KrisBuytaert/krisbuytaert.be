<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>mysql | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/rss+xml" title="RSS - mysql" href="0/feed/index.html" />
<link rel="shortcut icon" href="../../../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/aggregator/aggregator/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/node/node/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/poll/poll/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/defaults/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/system/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/system/system-menus/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/user/user/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/cck/theme/content-module/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/date/date/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/geshifilter/geshifilter/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../misc/farbtastic/farbtastic/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/calendar/calendar/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/all/modules/views/css/views/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../modules/taxonomy/taxonomy/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/typography/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/layout/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../../sites/default/themes/barlow/style/index.css?i" />
<link type="text/css" rel="stylesheet" media="print" href="../../../sites/default/themes/barlow/print/index.css?i" />
</head>

<body class="not-front not-logged-in page-taxonomy one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../../../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../../../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../../../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../../../faq/index/index.html">FAQ</a> and  <a href="../../../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
<p><a href="../../../rss/index.xml">Feed</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../../../index/index.html">Home</a></div></div>
  <h2 id="title">mysql</h2>
<div class="content">
<div id="node-558" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-01-19T12:39:41+01:00">
  <span class="month">Jan</span>
  <span class="day">19</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/558/index.html">MySQL Toolkit</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_720 first"><a href="../720/index.html" rel="tag" title="">lefred</a></li>
<li class="taxonomy_term_458 last active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://lefred.be/">My good friend Fred</a> just <a href="http://www.lefred.be/?q=node/76" rel="nofollow">blogged</a> about his favourite set of MySQL tools including Maatkit,  Querysniffer , MyTop and other interresting tools.</p>
<p>Check them out..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-555" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-01-16T14:47:35+01:00">
  <span class="month">Jan</span>
  <span class="day">16</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/555/index.html">Is the stack complete now ?</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_717 first"><a href="../717/index.html" rel="tag" title="">appserver</a></li>
<li class="taxonomy_term_716"><a href="../716/index.html" rel="tag" title="">database</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_715"><a href="../715/index.html" rel="tag" title="">os</a></li>
<li class="taxonomy_term_488 last"><a href="../488/index.html" rel="tag" title="">sun</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://www.sun.com/aboutsun/pr/2008-01/sunflash.20080116.1.xml" rel="nofollow">It</a> makes sense.  Sun didn't have a Database in their platform stack yet.</p>
<p>They have an OS they should abandon, but  they have the hardware and  they have appservers, however  for a database people needed to go shop elsewhere.<br />
Oracle , IBM and Microsoft also  have a pretty complete stack<br />
Others still need to fill the gaps..  Interesting times..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/555/index.html#comments" title="Jump to the first comment of this posting.">3 comments</a></li>
</ul></div>
</div>
<div id="node-550" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-01-08T20:48:23+01:00">
  <span class="month">Jan</span>
  <span class="day">08</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/550/index.html">I got Interviewed</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_557 first"><a href="../557/index.html" rel="tag" title="">buytaert</a></li>
<li class="taxonomy_term_484"><a href="../484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_706"><a href="../706/index.html" rel="tag" title="">interview</a></li>
<li class="taxonomy_term_708"><a href="../708/index.html" rel="tag" title="">kris buytaert</a></li>
<li class="taxonomy_term_707"><a href="../707/index.html" rel="tag" title="">krisbuytaert</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_613 last"><a href="../613/index.html" rel="tag" title="">profoss</a></li>
</ul></span>
        </div>
  <div class="content"><p>
Some people obviously think I`m still interresting enough to <a href="http://www.profoss.eu/events/january-2008-virtualisation/speakers/kris-buytaert/interview/">interview</a></p>
<p>Reminds me of my first interviews over a decade ago .. I`m still being remembered by one of my famous quotes back then rougly translated to "those toddlers steal my bandwith" , when being asked about how the growing userbase of the KULeuven PC rooms in the Dekenstraat influenced my  network usage :)  (Think 1994 ish :))</p>
<p>But the acutal news is that Profoss is coming closer and closer .. and you should now <a href="http://www.profoss.eu/">Register!</a><br />
So all you Drupal and MySQL folks out there.. this is your chance to learn about virtualization !</p>
<p><a href="http://www.profoss.eu/events/january-2008-virtualisation/"><img src="http://www.profoss.eu/images/profoss_speaker_200801.gif" /></a></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/550/index.html#comments" title="Jump to the first comment of this posting.">3 comments</a></li>
</ul></div>
</div>
<div id="node-547" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-01-04T19:59:43+01:00">
  <span class="month">Jan</span>
  <span class="day">04</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/547/index.html">Recent MySQL builds in CentOSPlus </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_480 first"><a href="../480/index.html" rel="tag" title="">centos</a></li>
<li class="taxonomy_term_698"><a href="../698/index.html" rel="tag" title="">centosplus</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_472 last"><a href="../472/index.html" rel="tag" title="">rpm</a></li>
</ul></span>
        </div>
  <div class="content"><p><a>Peter </a> notes that you indeed can find pretty recent Enterprise level MySQL rebuilds over at the <a href="http://mirror.centos.org/centos/4/centosplus/i386/RPMS/" rel="nofollow">CentOSPlus repository.</a></p>
<p>Good things come to those who wait :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-543" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-01-02T17:42:51+01:00">
  <span class="month">Jan</span>
  <span class="day">02</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../../../node/543/index.html">LinuxDays.lu 2008</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_688 first"><a href="../688/index.html" rel="tag" title="">linuxdays</a></li>
<li class="taxonomy_term_687"><a href="../687/index.html" rel="tag" title="">linuxdays2008</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_684"><a href="../684/index.html" rel="tag" title="">mysql-cluster</a></li>
<li class="taxonomy_term_689 last"><a href="../689/index.html" rel="tag" title="">mysql-ha</a></li>
</ul></span>
        </div>
  <div class="content"><p>The nice folks over in Luxembourg just posted the schedule for their Linuxdays 2008 conference.<br />
I`ll be talking about <a href="http://www.linuxdays.lu/agenda/linuxdays-2008/linuxdays-2008-conference-abstracts#C2008:6" rel="nofollow">MySQL High Availability </a></p>
<p>I was at LinuxDays.lu already 2 years ago and I remember it as a nice an cosy conf with an interesting combo of tutorials and conference talks.  If you are in the neigborhood its worth the time.</p>
<p>Oh .. and you can also see <a href="http://mattinaction.blogspot.com/" rel="nofollow">Matt in action</a> again :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-542" class="node teaser blog cal">
    <acronym class="calendar published" title="2007-12-31T13:11:44+01:00">
  <span class="month">Dec</span>
  <span class="day">31</span>
    <span class="year">2007</span>
    </acronym>
    <h2 class="title"><a href="../../../node/542/index.html">Look what the postman brought</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_685 first"><a href="../685/index.html" rel="tag" title="">book</a></li>
<li class="taxonomy_term_686"><a href="../686/index.html" rel="tag" title="">certification guide</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_684 last"><a href="../684/index.html" rel="tag" title="">mysql-cluster</a></li>
</ul></span>
        </div>
  <div class="content"><p>The doorbell rang,  I was almost to late .. but I still catched the post guy before he left..<br />
He had a package<br />
<img src="http://www.krisbuytaert.be/pics/Lulu.jpg" /> </p>
<p>I knew what was in the package ..   </p>
<p><img src="http://www.krisbuytaert.be/pics/BookCover.jpg" /></p>
<p>but I was even more surprised when I opened the book..</p>
<p><img src="http://www.krisbuytaert.be/pics/Preface.jpg" /></p>
<p>Thnx a lot folks !! </p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/542/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-522" class="node teaser blog cal">
    <acronym class="calendar published" title="2007-12-02T23:56:45+01:00">
  <span class="month">Dec</span>
  <span class="day">03</span>
    <span class="year">2007</span>
    </acronym>
    <h2 class="title"><a href="../../../node/522/index.html">SELECT vs select</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_484 first"><a href="../484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_526"><a href="../526/index.html" rel="tag" title="">newbie</a></li>
<li class="taxonomy_term_659"><a href="../659/index.html" rel="tag" title="">pager</a></li>
<li class="taxonomy_term_661"><a href="../661/index.html" rel="tag" title="">rtfc</a></li>
<li class="taxonomy_term_660 last"><a href="../660/index.html" rel="tag" title="">stupid</a></li>
</ul></span>
        </div>
  <div class="content"><p>I spent way too much time this weekend trying to get the <a href="http://api.drupal.org/api/file/includes/pager.inc/5" rel="nofollow">pager</a> stuff in Drupal working for a module I`m playing with.  </p>
<p>I had learned a lot from the watchdog module on how paging was supposed to be working and I was trying to do the same with another database.    As I got a page limited by the number of records I wanted but I couldn't find any of the fancy next, previous and page number thingies that I wanted.    </p>
<p>The watchdog module worked for me and I started stripping the watchdog module till I could actually replace my function with watchdog_overview function.    Even replaced the watchdog query with my qeury..  but not such luck.. I couldn't get   $output .= <span class="geshifilter"><code class="text geshifilter-text">theme('pager', NULL, 50, 0);</code></span>  to work.</p>
<p>So as every open source geek does.. I started looking into the code.  pager.inc<br />
The header told me  the author.. I could mail him and wait or even call him , , but I read on.<br />
<span class="geshifilter"><code class="text geshifilter-text">$pager_total_items[$element] = db_result(db_query($count_query, $args));</code></span><br />
Never returned  anything useful.., my mysql log learned me there never was any query with a count ..<br />
Till I modified the pager.inc file to actually perform the query I wanted it to do.. and it started working.<br />
Then I took a closer look at the regexp that was being used to create the $count_qeury<br />
<span class="geshifilter"><code class="text geshifilter-text">$count_query = preg_replace(array('/SELECT.*?FROM /As', '/ORDER BY .*/'), array('SELECT COUNT(*) FROM ', ''),$query);</code></span><br />
However my query was all in lowercase so the count was never inserted.</p>
<p>The only difference between the working watchdog module and my own code was in the use of uppercase SQL statements.<br />
So call me lazy :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/522/index.html#comments" title="Jump to the first comment of this posting.">3 comments</a></li>
</ul></div>
</div>
<div id="node-521" class="node teaser blog cal">
    <acronym class="calendar published" title="2007-12-02T23:27:33+01:00">
  <span class="month">Dec</span>
  <span class="day">03</span>
    <span class="year">2007</span>
    </acronym>
    <h2 class="title"><a href="../../../node/521/index.html">Why publish  on Lulu.com ?</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_657 first"><a href="../657/index.html" rel="tag" title="">lulu</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_658 last"><a href="../658/index.html" rel="tag" title="">self publishing</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://arjen-lentz.livejournal.com/98238.html" rel="nofollow">Arjen</a> wonders why the MySQl Cluster Study book is published on Lulu and not trough MySQL 's traiditional publisher.</p>
<p>Altough I was involved in the creation process of the mentionned book, I have no idea why this decision was made but to me it makes perfect sense.   MySQL Cluster is a piece of software that is still going to change a lot in the next couple of months and years.<br />
A book published in a traditional way needs a minimal sales volume in order to be worth publishing.  If there even is a slight chance that by the time the book gets published a significant amount of content of the book has already changed traditional publishers shouldn't publish the book. Now over at Lulu.com a book won't be print before a customer orders it.  So when the book is being sent to me.   I get the current version of the book..   If in 3 months the authors decide to rewrite a chapter or make some bugfixes.   The book can be updated much faster.<br />
I can imagine that people buying the same title in april next year will already get bugfixes on the version that will arrive at my doorstep in a couple of days.      </p>
<p>At least that's why I would publish a technical book on Lulu.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/521/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-518" class="node teaser blog cal">
    <acronym class="calendar published" title="2007-11-30T15:18:25+01:00">
  <span class="month">Nov</span>
  <span class="day">30</span>
    <span class="year">2007</span>
    </acronym>
    <h2 class="title"><a href="../../../node/518/index.html">MySQL 5.1 Cluster DBA Certification Study Guide</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_433 first"><a href="../433/index.html" rel="tag" title="">cluster</a></li>
<li class="taxonomy_term_484"><a href="../484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_458 last active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
</ul></span>
        </div>
  <div class="content"><p>Apart form the Xen book I coauthored earlier this year  the nice folks of the MySQL documentation team asked me to review parts of their MySQL Cluster Certification guide.</p>
<p>After a long wait it's finally out !<br />
In contrary to the other one, this book took over a year to finish  because there was actually a lot of reviewing done by different people. </p>
<p>You can buy it now  <a href="http://www.lulu.com/content/1297960" rel="nofollow"> at Lulu.com</a> !</p>
<p><a href="http://www.johnandcailin.com/blog/john/scaling-drupal-open-source-infrastructure-high-traffic-drupal-sites" rel="nofollow">John</a> might want to read it to figure out about his 5th step.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../node/518/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-504" class="node teaser blog cal">
    <acronym class="calendar published" title="2007-11-10T16:54:46+01:00">
  <span class="month">Nov</span>
  <span class="day">10</span>
    <span class="year">2007</span>
    </acronym>
    <h2 class="title"><a href="../../../scaling-drupal/index.html">Scaling Drupal</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_484 first"><a href="../484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_449"><a href="../449/index.html" rel="tag" title="">ha</a></li>
<li class="taxonomy_term_631"><a href="../631/index.html" rel="tag" title="">hpc</a></li>
<li class="taxonomy_term_632"><a href="../632/index.html" rel="tag" title="">infrastructure</a></li>
<li class="taxonomy_term_458 active"><a href="index.html" rel="tag" title="" class="active">mysql</a></li>
<li class="taxonomy_term_630 last"><a href="../630/index.html" rel="tag" title="">scaling</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://www.johnandcailin.com/usernode/john" rel="nofollow">John Quinn</a> writes about <a href="http://www.johnandcailin.com/blog/john/scaling-drupal-open-source-infrastructure-high-traffic-drupal-sites" rel="nofollow">Scaling Drupal</a>  he is taking a one step at a time approach and is still writing his 4th and 5 stages.</p>
<p>His first step obviously is separating the drupal from a separate database server,  and he chooses mysql for this purpose, moving your DB to a different machine is a good thing to do.</p>
<p>However then he gets this crazy idea of using NFS to share his his drupal shared files :(<br />
(he even dares to mention that the setup ease is good)  Folks,  we abandonned NFS in the late nineties. NFS is still a recipe for disaster,  it has performance issues , it as stability issues (stale locks), and no security admin in his right mind will tolerate portmap to be running in his DMZ.<br />
(Also think about the IO path that one has to follow to serve a static file to a surfer when the file is stored on a remote NFS volume) </p>
<p>On top of that he adds complexity in a phase where it isn't needed yet.  Because of the fact he needs to manage and secure NFS and he is storing his critical files on the other side of the ethernet cable he did create a single point of failure he didn't need creating yet.<br />
Yes as soon as you start to scale you need to look at a scalable and redundant way to share your files.<br />
When those files are pretty static you'll start out with a set of rsync scripts or scripts that push them to different servers upon deploying your application.  When they are changing often you start looking into filesystems or block devices that bring you replication, such as DRBD or Lustre<br />
But if today his NFS server goes down he is screwed,  much harder than when his database has a hickup.</p>
<p>One could discuss the order of scaling,  but adding more webservers might not always be the first step to take,   one might want to tackle the database first depending on the application.<br />
He decides to share the load of his application over multiple Drupal instances using apache mod_proxy ,  then adds Linux-HA to make it highly available.<br />
I`m interested in knowing  why he chose for apache mod_proxy and not for LVS  </p>
<p>Although using NFS for me belongs in a <cite>How NOT to scale</cite> tutorial, his other steps give you  a good idea of the steps to take.  </p>
<p>I`m looking forward to his next steps :) I hope that in part 4 he also removes NFS in favour of a solution with no performance and locking issues that really takes away a big fat single point of failure. In part 5 he discusses how to scale your database environment.  The actual order of implementing step 2 and 5  will be different for each setup.   </p>
<p>Anyway.. I`m following up on his next steps.. interesting reading</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../../scaling-drupal/index.html#comments" title="Jump to the first comment of this posting.">29 comments</a></li>
</ul></div>
</div>
<div class="item-list"><ul class="pager"><li class="pager-first first"><a href="index.html" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="index7.html?page=7" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-item"><a href="index1.html?page=1" title="Go to page 2" class="active">2</a></li>
<li class="pager-item"><a href="index2.html?page=2" title="Go to page 3" class="active">3</a></li>
<li class="pager-item"><a href="index3.html?page=3" title="Go to page 4" class="active">4</a></li>
<li class="pager-item"><a href="index4.html?page=4" title="Go to page 5" class="active">5</a></li>
<li class="pager-item"><a href="index5.html?page=5" title="Go to page 6" class="active">6</a></li>
<li class="pager-item"><a href="index6.html?page=6" title="Go to page 7" class="active">7</a></li>
<li class="pager-item"><a href="index7.html?page=7" title="Go to page 8" class="active">8</a></li>
<li class="pager-current">9</li>
<li class="pager-item"><a href="index9.html?page=9" title="Go to page 10" class="active">10</a></li>
<li class="pager-next"><a href="index9.html?page=9" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="index9.html?page=9" title="Go to last page" class="active">last »</a></li>
</ul></div></div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
