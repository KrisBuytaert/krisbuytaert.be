<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from 127.0.0.1:8080/blog/blog?page=26 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 06:56:20 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Everything is a Freaking DNS problem | Devops Needs Sushi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../blogapi/rsd/index.html" />
<link rel="alternate" type="application/rss+xml" title="Everything is a Freaking DNS problem RSS" href="../rss/index.xml" />
<link rel="shortcut icon" href="../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/aggregator/aggregator/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/node/node/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/poll/poll/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/theme/content-module/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/date/date/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/geshifilter/geshifilter/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../misc/farbtastic/farbtastic/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/calendar/calendar/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/typography/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/layout/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/style/index.css?9" />
<link type="text/css" rel="stylesheet" media="print" href="../sites/default/themes/barlow/print/index.css?9" />
</head>

<body class="front not-logged-in page-node one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../faq/index/index.html">FAQ</a> and  <a href="../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
<div class="content">
<div id="node-845" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-29T14:10:46+01:00">
  <span class="month">Dec</span>
  <span class="day">29</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../joke-day/index.html">Joke of the Day</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1134 first"><a href="../category/debian/index.html" rel="tag" title="">debian</a></li>
<li class="taxonomy_term_1135 last"><a href="../category/stable/index.html" rel="tag" title="">stable</a></li>
</ul></span>
        </div>
  <div class="content"><p>Overheard today in <a href="http://www.inuits.be/">our</a>  technical workshop.</p>
<p>Q: Does anyone have a stable Debian with him ?<br />
A: Yes<br />
Q: Can you pass me the floppy.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-844" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-23T17:06:52+01:00">
  <span class="month">Dec</span>
  <span class="day">23</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../planet-grepbe-meetup/index.html">Planet Grep.be meetup</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1133 first last"><a href="../category/planetgrep-grep-beer-kulminator/index.html" rel="tag" title="">planet.grep grep beer kulminator</a></li>
</ul></span>
        </div>
  <div class="content"><p>As I got a lot of positive reactions for the idea I posted last week, here is some more detail for the beerdrinking next monday.<br />
29 december 2008 that is .. </p>
<p>The plan is to meet from 20:00 onwards in the <a href="http://letmegooglethatforyou.com/?q=Kulminator&amp;l=1" rel="nofollow">Kulminator</a> in Antwerpen.</p>
<p>I already got feedback from over a dozen PGB readers and posters that they will show up  !</p>
<p>But feel free to abuse the comments to let us know you are coming too ! </p>
<p>PS. As Bram commented .. no need to be early as Kulminator only opens at 20.00 on monday ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../planet-grepbe-meetup/index.html#comments" title="Jump to the first comment of this posting.">7 comments</a></li>
</ul></div>
</div>
<div id="node-843" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-19T19:41:17+01:00">
  <span class="month">Dec</span>
  <span class="day">19</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../mythtv-recover-lostfound/index.html">MythTV recover Lost+Found </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1131 first"><a href="../category/crash/index.html" rel="tag" title="">crash</a></li>
<li class="taxonomy_term_1129"><a href="../category/lostfound/index.html" rel="tag" title="">lost+found</a></li>
<li class="taxonomy_term_458"><a href="../taxonomy/term/458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_504"><a href="../taxonomy/term/504/index.html" rel="tag" title="">mythtv</a></li>
<li class="taxonomy_term_599"><a href="../taxonomy/term/599/index.html" rel="tag" title="">opensource</a></li>
<li class="taxonomy_term_1130"><a href="../category/recovery/index.html" rel="tag" title="">recovery</a></li>
<li class="taxonomy_term_1132 last"><a href="../category/scripting/index.html" rel="tag" title="">scripting</a></li>
</ul></span>
        </div>
  <div class="content"><p>My MythTV store lives on an LVM volume that is spread over 2 disks, one of them is an external USB disk.   So the cleaninglady seems to have touched a cable and after coming back from holiday I had a read-only filesystem that afer a remount had about 350Gb in lost+found   with irrelevant filenames.</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">total 337407844</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drwx------   2 tv   tv         4096 Dec 17 22:47 .</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">drwxrwxrwx  15 tv   tv         4096 Dec 17 22:44 ..</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root  423343556 Dec 14 07:10 I303109.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 2990538924 Dec 13 19:05 I303107.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 1023691768 Dec 13 08:10 I319494.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 1023622348 Dec 13 07:45 I327684.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root  423735892 Dec 13 07:10 I327682.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root  466749476 Dec 12 15:43 I135169.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 1023314212 Dec 12 07:45 I098309.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 1022459928 Dec 12 06:35 I098306.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 2458822948 Dec  9 22:50 I139264.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 2129683736 Dec  9 21:30 I323592.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root  466735992 Dec  9 15:43 I323590.RCN</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">-rw-r--r--   1 root root 1022747296 Dec  9 07:45 I323588.RCN</div></li></ol></pre></div></p>
<p>Obviously I wanted to recover my data.<br />
So I had files with a wrong filename on a filesystem but with a correct timestamp and probably the right filesize.<br />
Luckily the  mythconverg.recorded table also gives  me lots of information about the files that mythtv had originally stored the content in.</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">mysql&gt; select basename,lastmodified,filesize from recorded limit 10;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+---------------------------+---------------------+------------+</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| basename                  | lastmodified        | filesize   |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+---------------------------+---------------------+------------+</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1003_20081003230000.mpg   | 2008-10-07 21:53:49 | 6197765380 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1093_20080320232600.mpg   | 2008-03-20 23:25:31 |          0 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1075_20060301191300.mpg   | 2006-03-24 22:48:42 |          0 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1002_20080729160500.mpg   | 2008-07-29 19:20:30 | 3679223940 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 592251_20081217072000.mpg | 2008-12-17 07:20:02 |          0 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1002_20080911143500.mpg   | 2008-09-11 16:41:44 | 3486101572 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1002_20080923143500.mpg   | 2008-09-23 16:49:41 | 3679789684 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1033_20081110153500.mpg   | 2008-11-10 15:47:12 |  338877000 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1002_20080922144000.mpg   | 2008-09-22 16:47:38 | 3485505140 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| 1002_20080721160500.mpg   | 2008-07-23 20:52:16 | 3679559444 |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+---------------------------+---------------------+------------+</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">10 rows in set (0.00 sec)</div></li></ol></pre></div></p>
<p>My first idea was to use  <a href="http://code.google.com/p/mysql-filesystem-engine/" rel="nofollow">the mysql filesystem engine</a> to query the filesytem and write me a simple query however I totally failed to build that engine :(<br />
(Anyone else successfull here ? )</p>
<p>So I created a temp table</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">CREATE TABLE `temp2` (</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">  `size` bigint(20) default NULL,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">  `oldname` varchar(255) default NULL,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">  `lastmod` timestamp NOT NULL default CURRENT_TIMESTAMP on update CURRENT_TIMESTAMP</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">) ENGINE=MyISAM DEFAULT CHARSET=latin1</div></li></ol></pre></div></p>
<p>And parsed the content of my lost+found directory into a set of insert statements<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">ls -l --time-style=long-iso | awk  -F' ' '{print &quot;insert into temp2 values (&quot;  $5 &quot;,\&quot;&quot;  $8&quot;\&quot;,\&quot;&quot;$6&quot; &quot;$7&quot;\&quot;);&quot;}'</div></li></ol></pre></div></p>
<p>From there is a matter of grabbing the matching filenames</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">echo &quot;select \&quot;mv \&quot; , oldname, basename from recorded, temp2 where temp2.size= recorded.filesize ;&quot; | mysql mythconverg</div></li></ol></pre></div></p>
<p>And moving the actual files ... now all is back to normal ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../mythtv-recover-lostfound/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-842" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-19T19:38:33+01:00">
  <span class="month">Dec</span>
  <span class="day">19</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../mysql-51-fedora-10/index.html">MySQL 5.1 on Fedora 10  </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1128 first"><a href="../category/fedora10/index.html" rel="tag" title="">fedora10</a></li>
<li class="taxonomy_term_458"><a href="../taxonomy/term/458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_599 last"><a href="../taxonomy/term/599/index.html" rel="tag" title="">opensource</a></li>
</ul></span>
        </div>
  <div class="content"><p>So I wanted a fresh MySQL 5.1 release on my Fedora 10 box.<br />
Fedora comes with a mysql 5.0 package and the MySQL community packages for 5.1 conflict with that in different ways.  (to start with MySQL vs mysql)</p>
<p>For some weird reason libmysqlclient (in mysql-libs) is required by redland, which is required by openoffice.org-core.   I probaly never need the RDF funtionalities that redland provides me but I`m stuck with them anyhow.</p>
<p>So <a href="http://lefred.be/">Fred</a>  pointed me to<br />
<a href="http://rpms.famillecollet.com/fc10.x86_64/repoview/mysql-server.html" rel="nofollow"><br />
Remi repo for mysql 5.1</a></p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">yum --enablerepo remi install  mysql-server</div></li></ol></pre></div></p>
<p>Now gives me a very nice MySQL 5.1 to play around with.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../mysql-51-fedora-10/index.html#comments" title="Jump to the first comment of this posting.">3 comments</a></li>
</ul></div>
</div>
<div id="node-841" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-19T19:36:44+01:00">
  <span class="month">Dec</span>
  <span class="day">19</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../jolicloud/index.html">JoliCloud</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1037 first"><a href="../taxonomy/term/1037/index.html" rel="tag" title="">cloud</a></li>
<li class="taxonomy_term_1127 last"><a href="../category/eeubuntu/index.html" rel="tag" title="">eeubuntu</a></li>
</ul></span>
        </div>
  <div class="content"><p>Am I the only one who thinks <a href="http://www.techcrunch.com/2008/12/09/netvibes-founder-building-iphone-like-operating-system-for-netbooks/">the JoliCloud</a> screenshot on TechCrunch really really looks like a default <a href="http://www.eeebuntu.org/">eeebuntu</a> setup ?</p>
<p><img src="http://www.techcrunch.com/wp-content/uploads/2008/12/jolicloud.jpg" /></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-840" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-19T19:35:21+01:00">
  <span class="month">Dec</span>
  <span class="day">19</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../so-true/index.html">So True</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1126 first"><a href="../category/experience/index.html" rel="tag" title="">experience</a></li>
<li class="taxonomy_term_1124"><a href="../category/learning/index.html" rel="tag" title="">learning</a></li>
<li class="taxonomy_term_1125 last"><a href="../category/school/index.html" rel="tag" title="">school</a></li>
</ul></span>
        </div>
  <div class="content"><p>So True</p>
<p><a href="http://xkcd.com/519/"><img src="http://imgs.xkcd.com/comics/11th_grade.png" /></a></p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../so-true/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-839" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-18T22:14:23+01:00">
  <span class="month">Dec</span>
  <span class="day">18</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../free-beer-planetgrepbe-meetup/index.html">Free Beer, planet.grep.be Meetup</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_484 first"><a href="../taxonomy/term/484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_1033"><a href="../taxonomy/term/1033/index.html" rel="tag" title="">free beer</a></li>
<li class="taxonomy_term_1123"><a href="../category/meetup/index.html" rel="tag" title="">meetup</a></li>
<li class="taxonomy_term_458"><a href="../taxonomy/term/458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_461"><a href="../taxonomy/term/461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_976 last"><a href="../taxonomy/term/976/index.html" rel="tag" title="">planet.grep.be</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://planet.grep.be/" rel="nofollow">planet.grep.be</a> today has a lot of active open source users and contributors.<br />
The weird thing is that we never meet apart from Fosdem.<br />
Yes, we occasionally run into eachother at other events but there's not enough beer involved.</p>
<p>I've had different people ask me  what and where are the Open Source gatherings in Belgium,   and we must admit that apart<br />
from Fosdem there isn't that much in our little country.</p>
<p>There were a couple of MySQL User Group events, some Drupal ones, some LUG had meetings altough I have the idea most of them have dried out :(  </p>
<p>So I have this crazy idea of  inviting you all to grab a beer, maybe even  free beer :) on december 29 some in a pub in Antwerp </p>
<p>I`m open for suggestions on good locations.</p>
<p>Oh and everybody is welcome, both readers and writers :) </p>
<p>PS.  Yes I know that some of you will be drinking in Berlin at that time .. we'll drink an extra one for you.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../free-beer-planetgrepbe-meetup/index.html#comments" title="Jump to the first comment of this posting.">12 comments</a></li>
</ul></div>
</div>
<div id="node-838" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-07T22:44:10+01:00">
  <span class="month">Dec</span>
  <span class="day">07</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../cck-views-my-first-experiences/index.html">CCK &amp; Views, My First Experiences </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1121 first"><a href="../category/cck/index.html" rel="tag" title="">cck</a></li>
<li class="taxonomy_term_484"><a href="../taxonomy/term/484/index.html" rel="tag" title="">drupal</a></li>
<li class="taxonomy_term_458"><a href="../taxonomy/term/458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_1122 last"><a href="../category/views/index.html" rel="tag" title="">views</a></li>
</ul></span>
        </div>
  <div class="content"><p>and probably my last one .. </p>
<p>I <a href="http://www.krisbuytaert.be/blog/migrate-multisite-and-restyle">mentioned </a> a couple of weeks ago that I was looking into a way of converting my static page with published papers, articles and presentations in a more dynamic page where I could create RSS feeds from the updates and feed them into <a href="http://www.inuits.be/">another site</a> for everybody to use.</p>
<p>Some people suggested that I'd have a look at CCK &amp; Views for this. While up till now when creating an app I had usually written my own Drupal module with my own database schema and manually written  SQL Queries.  This indeed looked like  the perfect opportunity to dig into the CCK and Views thingie.</p>
<p>Now I must admit that <a href="http://www.krisbuytaert.be/pics/hybernate.jpg">I`m not really fond</a> of "generated queries"</p>
<p>I've had nightmares before when having to debug 2Mb Hibernate queries that could be reduced  to a single select value from table where query but Hibernate used a zillion join on tables I didn't need.<br />
So I was a bit afraid of what Views would do ..</p>
<p>So here's what happened, I created 2 pages ..  presentations. and publications.  Personally I'd go for 1 table each with some smart indexes and then the only thing you want is   SELECT  * FROM table ORDER BY  date</p>
<p>Now if I'd create a special content type for this I probably get some more benefits.<br />
And I could get the data from the tables with a rather simple query like this :<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">SELECT  node.nid,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        content_type_presentation.field_datum_value,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        content_type_presentation.field_location_value,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        content_type_presentation.field_country_value  ,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        content_type_presentation.field_event_link_title,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">        content_type_presentation.field_event_link_url</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> FRON content_type_presentation, node</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> WHERE node.type=&quot;presentation&quot; AND node.nid = content_type_presentation.nid</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> ORDER BY  content_type_presentation.field_datum_value desc;</div></li></ol></pre></div></p>
<p>However when using Views , this is what is being created. </p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">SELECT DISTINCT(node.nid) AS nid,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.field_datum_value AS node_data_field_country_field_datum_value,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.nid AS node_data_field_country_nid,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node.type AS node_type,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.field_event_link_url AS node_data_field_country_field_event_link_url,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.field_event_link_title AS node_data_field_country_field_event_link_title,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.field_event_link_attributes AS node_data_field_country_field_event_link_attributes,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.field_location_value AS node_data_field_country_field_location_value,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_country.field_country_value AS node_data_field_country_field_country_value,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_link.field_link_url AS node_data_field_link_field_link_url,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_link.field_link_title AS node_data_field_link_field_link_title,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_link.field_link_attributes AS node_data_field_link_field_link_attributes,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   node_data_field_link.nid AS node_data_field_link_nid</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> FROM node node</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> LEFT JOIN content_type_presentation node_data_field_country ON node.vid = node_data_field_country.vid</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> LEFT JOIN content_field_link node_data_field_link ON node.vid = node_data_field_link.vid</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal"> WHERE UPPER(node_data_field_country.field_country_value) != UPPER('')</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">   ORDER BY node_data_field_country_field_datum_value DESC</div></li></ol></pre></div></p>
<p>So there's some joins, a zillion more fields that I don't really need being fetched from my database.<br />
The explain also tells me some interesting things.. like the Using temporary AND Using Filesort</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| id | select_type | table                   | type   | possible_keys | key     | key_len | ref                                       | rows | Extra                                        |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+----+-------------+-------------------------+--------+---------------+---------+---------+-------------------------------------------+------+----------------------------------------------+</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">|  1 | SIMPLE      | node_data_field_country | ALL    | PRIMARY       | NULL    | NULL    | NULL                                      |   33 | Using where; Using temporary; Using filesort |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">|  1 | SIMPLE      | node                    | eq_ref |vid           | vid     | 4       |buytaert_blog.node_data_field_country.vid |    1 |                                              |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">|  1 | SIMPLE      | node_data_field_link    | eq_ref | PRIMARY       | PRIMARY | 4       | buytaert_blog.node.vid                    |    1 |                                              |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+----+-------------+-------------------------+--------+---------------+---------+---------+-------------------------------------------+------+----------------------------------------------+</div></li></ol></pre></div></p>
<p>Now my simpler query uses the same amount of rows to return the result but doesn't build a temporary table.<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+----+-------------+---------------------------+------+-----------------------+------+---------+---------------------------------------------+------+----------------+</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">| id | select_type | table                     | type | possible_keys         | key  | key_len | ref                                         | rows | Extra          |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+----+-------------+---------------------------+------+-----------------------+------+---------+---------------------------------------------+------+----------------+</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">|  1 | SIMPLE      | content_type_presentation | ALL  | nid                   | NULL | NULL    | NULL                                        |   33 | Using filesort |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">|  1 | SIMPLE      | node                      | ref  | PRIMARY,node_type,nid | nid  | 4       | buytaert_blog.content_type_presentation.nid |    1 | Using where    |</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">+----+-------------+---------------------------+------+-----------------------+------+---------+---------------------------------------------+------+----------------+</div></li></ol></pre></div></p>
<p>In this small example there isn't much  difference in performance to be noticed, but with bigger tables you will see other results. However I still prefer my personal query approach.</p>
<p>The other thing that bugs me is the excessive use of aliases.  The MySQL internal experts can shed a light on the performance impact of using them, but if you are running queries remotely you at least have an increase in bandwidth usage.  Not a problem now,  but who knows later when you are big and famous :)</p>
<p>Now Drupal seems to do it pretty ok .. it's aliasing table.field to table_field which still makes sense.  Not unlike some other tools that alias table.field to dynamically_generated_unreproducable_unreadable_key_word_with_no_relevant_meaning , try debugging that for a change.   And yes I see valuable use for resultset aliasing, but I also se it is often overused.</p>
<p>But the short summary ... given my background  I prefer writing the module and crafting my own queries over having Views create<br />
a query for me.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../cck-views-my-first-experiences/index.html#comments" title="Jump to the first comment of this posting.">11 comments</a></li>
</ul></div>
</div>
<div id="node-837" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-07T20:13:18+01:00">
  <span class="month">Dec</span>
  <span class="day">07</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../puppy-fud/index.html">Puppy FUD </a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_547 first"><a href="../taxonomy/term/547/index.html" rel="tag" title="">fud</a></li>
<li class="taxonomy_term_1120"><a href="../category/incompetent-marketeers/index.html" rel="tag" title="">incompetent marketeers</a></li>
<li class="taxonomy_term_461"><a href="../taxonomy/term/461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_948"><a href="../taxonomy/term/948/index.html" rel="tag" title="">proprietary crap</a></li>
<li class="taxonomy_term_1119 last"><a href="../category/puppies/index.html" rel="tag" title="">puppies</a></li>
</ul></span>
        </div>
  <div class="content"><p><a href="http://buytaert.net/open-source-and-free-puppies" rel="nofollow">Dries </a>  commented on <a href="http://blog.contenthere.net/2008/12/interwoven-foss-fud.html" rel="nofollow">Seth</a> reporting about the puppyfud some proprietary company not understanding open source was uttering.</p>
<p>It was a pretty lousy comparison actually ..  they compared Open Source software to a Free Puppy.. it looks nice and cheap at first  but it will cost you anyhow as it needs food  and shots etc so it isn't really free after all.</p>
<p>Now the fact is that with the proprietary stuff they are trying to shove down their customers throats, their CMS's also need configuration, updates, and styling left and right,   probably just as much as the Open Source alternative out there.<br />
Now as they have a proprietary platform the chance that they have an equally big expert group around their product is small, people don't just buy software to learn it,  however they will download a piece of interesting open source software to get aquanted with it..  There probably won't be that much free examples and tips and hints a round, or even free themes to base a site on ..</p>
<p>So no the purebred puppy really isn't the better alternative it's going to cost you equally in maintenance and you have to pay the high cost to actually be able to play with it .. or did you think it would be your software after you payed the pricetag ?</p>
<p>Now there's more bad news for the purebred software buyer.  He isn't free to go to any vet, no , he has to go to a specialized one in his breed,  actually if he doesn't do so once.. he risks  never to be helped by another one in the future either.<br />
And no choosing which food to buy for the puppy, no ther's just 1 brand that works, or maybe 2 .. but the prices have been set .. and it won't be cheap.</p>
<p>So what do you want .. the freedom to go to any vet you like, and to buy dogfood where you want , or even give them some  of your own leftovers.  Or the heavy pricetag, AND the limited choice in vets and food.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
</div>
<div id="node-836" class="node teaser blog cal">
    <acronym class="calendar published" title="2008-12-06T10:42:56+01:00">
  <span class="month">Dec</span>
  <span class="day">06</span>
    <span class="year">2008</span>
    </acronym>
    <h2 class="title"><a href="../eclipse-sun/index.html">The Eclipse of Sun</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_458 first"><a href="../taxonomy/term/458/index.html" rel="tag" title="">mysql</a></li>
<li class="taxonomy_term_461"><a href="../taxonomy/term/461/index.html" rel="tag" title="">open source</a></li>
<li class="taxonomy_term_488"><a href="../taxonomy/term/488/index.html" rel="tag" title="">sun</a></li>
<li class="taxonomy_term_1046 last"><a href="../taxonomy/term/1046/index.html" rel="tag" title="">virtualbox</a></li>
</ul></span>
        </div>
  <div class="content"><p>If you've been reading this blog for a while you'll know that<br />
for the past decade I've had a love-hate relation ship with Sun.     </p>
<p>Sun has done a lot of good things in their open source journey  such as MySQL, openOffice , Virtualbox  and  opensourcing Java.  But on the other hand they had troubles with creating really organic opensource.  </p>
<p>I've always wondered why a company that bought StarDivision because it was cheaper than buying the MS Office license keeps wasting money on building it's own operating systems, albeit in a pretty open model, but with zero to no relevant community.</p>
<p>Yes I've ranted on their marketing boys and girls when they polluted forums I liked.    But no I don't want <a href="http://blogs.zdnet.com/perlow/?p=9343" rel="nofollow">this</a> to happen. (Slicing up Sun) </p>
<p>However I`m in fear it actually might happen, the funny thing is that I already mentioned the same idea in offline conversations during the last couple of months.</p>
<p>My Advice to Sun.  : Stop putting money in things you can co-create  with other organisations,  if there's only 2 features in your product that count for some people,   contribute those 2 features to something bigger.<br />
(That's D-Trace and ZFS and the Linux Kernel I`m talking about in case you didn't realise)  Why keep throwing money down the drain ? </p>
<p>Also let Google, Percona and others contribute to MySQL, don't keep it as closed as it is today.  As after al it's more Free software than it is Open Source, but it has a great community which I love to be part of .. and I hope for a long time to come..</p>
<p>I`m going to try to keep my mouth shut on this for a while.. as I think   <a href="http://blogs.sun.com/jonathan/" rel="nofollow">Jonathan</a> is listening anyhow.   If he was, he would have known that at some point in time when you step out of the shower and there is too much hair dropping from your skull every morning, it's time to cut off the <a>ponytail..</a> , not <a href="http://www.sun.com/ponytail/" rel="nofollow">opensource it</a>.  I did that years ago.. and it's growing much thicker again now. </p>
<p>My hair that is ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../eclipse-sun/index.html#comments" title="Jump to the first comment of this posting.">5 comments</a></li>
</ul></div>
</div>
<div class="item-list"><ul class="pager"><li class="pager-first first"><a href="index.html" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="index25.html?page=25" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-item"><a href="index22.html?page=22" title="Go to page 23" class="active">23</a></li>
<li class="pager-item"><a href="index23.html?page=23" title="Go to page 24" class="active">24</a></li>
<li class="pager-item"><a href="index24.html?page=24" title="Go to page 25" class="active">25</a></li>
<li class="pager-item"><a href="index25.html?page=25" title="Go to page 26" class="active">26</a></li>
<li class="pager-current">27</li>
<li class="pager-item"><a href="index27.html?page=27" title="Go to page 28" class="active">28</a></li>
<li class="pager-item"><a href="index28.html?page=28" title="Go to page 29" class="active">29</a></li>
<li class="pager-item"><a href="index29.html?page=29" title="Go to page 30" class="active">30</a></li>
<li class="pager-item"><a href="index30.html?page=30" title="Go to page 31" class="active">31</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-next"><a href="index27.html?page=27" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="index103.html?page=103" title="Go to last page" class="active">last »</a></li>
</ul></div></div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>

<!-- Mirrored from 127.0.0.1:8080/blog/blog?page=26 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 06:56:20 GMT -->
</html>
