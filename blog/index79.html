<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Everything is a Freaking DNS problem | Devops Needs Sushi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="/blog/blogapi/rsd/index.html" />
<link rel="alternate" type="application/rss+xml" title="Everything is a Freaking DNS problem RSS" href="/blog/rss/index.xml" />
<link rel="shortcut icon" href="/blog/misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/aggregator/aggregator/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/node/node/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/poll/poll/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/system/defaults/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/system/system/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/system/system-menus/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/modules/user/user/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/cck/theme/content-module/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/date/date/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/geshifilter/geshifilter/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/misc/farbtastic/farbtastic/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/calendar/calendar/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/cck/modules/fieldgroup/fieldgroup/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/all/modules/views/css/views/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/default/themes/barlow/typography/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/default/themes/barlow/layout/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="/blog/sites/default/themes/barlow/style/index-2.css?i" />
<link type="text/css" rel="stylesheet" media="print" href="/blog/sites/default/themes/barlow/print/index-2.css?i" />
</head>

<body class="front not-logged-in page-node one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="/blog/index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="/blog/files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="/blog/index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="/blog/faq/index/index.html">FAQ</a> and  <a href="../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
<div class="content">
<div id="node-251" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-18T20:15:41+02:00">
  <span class="month">Sep</span>
  <span class="day">18</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/251/index.html">The IT crowd</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p><a href="http://www.x-tend.be/~kb/blog/index.php?2006/08/23/245-canvasbe-the-it-crowd">It</a> just showed up in my Myth TV upcoming recordings !   That's as of tomorrow folks !</p>
</div>
</div>
<div id="node-250" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-13T10:10:31+02:00">
  <span class="month">Sep</span>
  <span class="day">13</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/250/index.html">Xen Partitioning in openQRM Works !</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p><img src="http://www.x-tend.be/~kb/pics/xen-partition.gif" alt="" /></p>
<p><img src="http://www.x-tend.be/~kb/pics/openqrm-ve.gif" alt="" /></p>
<p>I finally figured out what was wrong with my setup :)<br />
I should have defined another VE with a Xen kernel to also be used in a partition, rather than expect openQRM to decide with kernel to use for a dom0.</p>
</div>
</div>
<div id="node-249" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-12T20:56:31+02:00">
  <span class="month">Sep</span>
  <span class="day">12</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/249/index.html"> System Administration With Revision Control</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>I have to disagree with the hard-won wisdom  <a href="http://jfm3-repl.blogspot.com/2006/09/system-administration-with-revision.html">Joseph</a> documents  in this blog entry.  Altough I 100% support his idea of version control for config files.  Both  his "Use mapfiles" and "Avoid generating configuration files"  are 2 practices that I have  to disagree with.</p>
<p><strong>Don't use map files</strong>,  use actual subdirs and  map multiple trees on top of eachother,  Create trees such as ALL ,  HOSTNAME , HOSTNAME-X , etc and layer them on top of eachother for the final filesystem.<br />
ALL is written first, then hostname and finally hostname-x, so if your CLUSTERNODE13 has a specific config file /etc/murphy that differs from all other nodes it sits in overrides/CLUSTERNODE13/etc/murphy.<br />
In the original sugestion with map files.. how would you map different content based on a server to the same filenames ?  You'd end up getting a big bunch of similarly named files in 1 directory, ready for the unattentive eye to edit the wrong file. This is the way how e.g. SystemImager deploys config files, the systemimager overrides mechanism uses rsync to accomplish this.</p>
<p><strong>Do generate config files.</strong><br />
You don't want to spend time modifying config files that a computer can generate for you.  If you have 200+ machines and you need to create or configure a service that includes a reference to<br />
an ip address or a hostname based on the actual machine a script  or template wil much easier calculate the n+k ip address or hostname-n-k  and do it faultless , where as by the 123th config file you edit manually you will have run out of coffee and you'll start doing sloppy cut and pastes.</p>
<p>And yes modern configurations do include a .d mechanism, but not for all config files, yet.  A</p>
<pre>overrides/ALL/etc/logrotate.d/messages
overrides/DATABASE/etc/logrotate.d/mysql</pre><p>will do just fine.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="/blog/node/249/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-248" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-12T20:52:01+02:00">
  <span class="month">Sep</span>
  <span class="day">12</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/248/index.html">LinuxKongress 2006 Nurenberg (day 2)</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>After a great social event spending some time talking to LMB about quagga and HA and other stuff we headed to a local Irish pub to finish the evening.<br />
As some people had trouble finding their way to the hotel  but were still on time for their own<br />
talk I must conclude it was about time we hit the sheets ;)</p>
<p>Ted Tso gave us a nice overview of the Linux development model.  After the break I headed for the Linux HAv2 session by Lars , One CRM to rule them all.. how can one possibly  think this talk<br />
would be about Customer Relationship Managers and not about Cluster Resource Managers :), had a<br />
good laugh on that one.</p>
<p>Then Matt was up for the talk about openQRM, it must have been my bad Karma coz even tough he he had tested his laptop on the projector before his talk as I had suggested,  the thing didn't work and broke down even with different laptops.<br />
So Matt had to give his presentation with the audience watching his laptop screen.</p>
<p>As the projector troubles delayed the talk for about 20 minutes I quickly ran off to spagetti with Peter as  we wanted to be in time for the next presentation<br />
Ralph on SELinux vs Apparmor,  his LinuxTag talk was in German, this one luckily in English ..<br />
good summary ,, got to to read that paper again for a good summary, but the projector still was<br />
broken and we had to move to s smaller room for the last couple of talks.</p>
<p>Marcel  then treated us to an old skool hardware hacking with irda and other fun tools good for<br />
some really good laugh with the lack of security in your average hotel room.  By the time we recovered from the laughter Maddog lined up to close the conference and tell us more than we ever wanted to know about Finish Sauna habits.</p>
<p>Yet another great linuxkongress , and after a  6 hour drive home , I just arrived minutes away from saturday :)</p>
<p>Next conference  stop  LinuxWorldExpo Utrecht</p>
</div>
</div>
<div id="node-247" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-07T17:38:32+02:00">
  <span class="month">Sep</span>
  <span class="day">07</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/247/index.html">LinuxKongress 2006 Nurenberg (day 1)</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>It's my 6th LinuxKongress 2006 this year it's in  Nurenberg, yesterday I had the joy of travelling via train from Antwerp to Nurenberg,  nice trip , much more relaxing to do by train than to drive myselve. I actually got some work done on the trip while my battery lasted and got to finish reading some LinuxJournal and Linux Magazine</p>
<p>The Keynote by Alan Cox is titled  "How To GPL a Chair",  Alan threw a lot of questions at us , most of them which I had never tought of before.  I kwew about the RepRap project etc since I met Victor at LCA2005 (Hmm.. Vic is heading for  Paraflows in Vienna later this week  giving a talk about RepRap actually) , but I never tought about the impact on licensing and copyright if we actually would end up with a device that would be capapble of replicating about anything.  What would the value of antique stuff be if we could reproduce it identically ?   What about copyright of logo's and objects when we get working Holodecks ?<br />
More questions than answers ... the most important one being .. what about Free Beer !<br />
Lots of answers coming down to .. the ingredients/resources still aren't free and probably will never be.</p>
<p>On to Jeff Dike of UML fame with a talk titled Linux as a hypervisor. While looking out of the window during Jeff's talk I see a cat looking exacly like one of ours (Scsi) sitting  on the balcony of a nearby building.  Has she been replicated already ? Hmm..<br />
Jef mentions that no actual opensource  virtualisation  code currently implements a hypervisor in Linux ,  Xen is a Hypervisor that boots linux and VMWare doesn't seem to be contributing back.   I question , if you really need one.<br />
One of the arguments Jeff has is that from a management point of view you don't want to have to learn yet another platform to manage your virtual machines.  You want to do that from Linux your usual platform.   I`m lost here.. with Xen I manage the hypervisor from witin my first virtual guest , dom0 ,  works perfectly, scales,  and I can actually still use the Linux platform that runs dom0 for other applications also.  I don't see the problem here.   I'm probably missing out om something here.</p>
<p>Next he goes on talking about using fuse to export a virtual machine filesystem or and even it's /proc filesystem to be mounted from your hypervisor for management persons .. to go on to mention he wants to be able to chroot into is running vhost.   Thnx but no thnx, those are features that I really don't need.  From a security point of view for one,  from a management point of view on the other side.  I want to be able to manage a machine physical or virtual identically , definitely not having to remember that I should chroot into an available filesystem to modify a lost password.</p>
<p>Still no Wifi :(</p>
<p>Smart Cards talk then ... How come that most of the stuff this guy is talking about seems really familiar to me eventough I`m not involved at all in smart card stuff these days.  I did some research on the topic for a customer about 4-5 years ago, but it still sounds really familiar.</p>
<p>Ahh.. lunch time .. Matt arrived so we had a short chat on his trip to California ,  exploding  batteries, cops, carcrashes , more cops and openQRM.</p>
<p>Volkert gives the usual Samba talk, I haven't been involved in any Samba projects lateley,  <a href="http://www.x-tend.be/~fred/blog/index.php?2006/09/07/30-samba-3-3011-boring-stuff">Fred</a> usually gets sent in on those , but each of his talks is always a nice status update so I don't loose track</p>
<p>I hop into  File System (Ext2) Optimization for Compressed loopback device ..  Ok, so they guy was reading litererally from his papers, at a really slow pace but at least he was understandable.   We've had worse speakers... interresting stuff .. but still I read the paper before he was even half trough his talk.</p>
<pre><a href="/blog/root%40mine2%20_/index.html">root@mine2 ~</a># /etc/init.d/bluetooth stop
Stopping Bluetooth services:                               <a href="/blog/OK/index.html">  OK  </a></pre><p>Better shut it when heading for a talk by Marcel :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="/blog/node/247/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
<div id="node-246" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-06T07:46:49+02:00">
  <span class="month">Sep</span>
  <span class="day">06</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/246/index.html">Linux-Kongress 2006</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>Leaving in 10 minutes for <a href="http://www.linux-kongress.org/2006/">Linux-Kongress 2006</a></p>
</div>
</div>
<div id="node-245" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-04T16:09:06+02:00">
  <span class="month">Sep</span>
  <span class="day">04</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/245/index.html">Stupid Mattress</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p><a href="http://www.wonko.be/2006/09/03/intelligentie/">Blonko! � intelligentie</a></p>
<p>The obvious number being 42, as everyone knows !</p>
</div>
</div>
<div id="node-244" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-04T13:18:32+02:00">
  <span class="month">Sep</span>
  <span class="day">04</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/244/index.html">A new Configuration management tool</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>From the "You really didn't expect <a href="http://thomas.apestaart.org/">him</a> to do this" department.<br />
(Well I did since we  shortly chatted about this on irc couple of weeks ago)</p>
<p><a href="http://thomas.apestaart.org/log/?p=349">Thomas </a>  points us to his newest configuration management tool called  <a href="https://apestaart.org/thomas/trac/wiki/projects/savon">Savon</a> .</p>
<blockquote><p>After some thinking, I decided I wanted to redo this tool from scratch, and also consider some other features that would help me use this tool for our platform deployment. The most important one I wanted was to have a concept of an overlay managing a part of the file system, using multiple layers. The layers would then combine as if they were stacked, which would be similar to how I understand things like UnionFS to work (I haven’t tried UnionFS myself, only read about it). The layering would allow me to have parts of the config checkout be related to the machine’s role, part to the specific host, and part to all hosts together.</p>
</blockquote>
<p>Kind of like the overrides concept in systemimager,  integrated with Subversion,  sounds good .. got to look into it..</p>
<p>Too bad this fails..</p>
<pre>
 apt-get install more-time
 Reading Package Lists... Done
 Building Dependency Tree... Done
 E: Couldn't find package more-time</pre><p>Otherwise I would have been playing with it already ...   well.. it's on my todolist anyway ..</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="comment_comments first last"><a href="/blog/node/244/index.html#comments" title="Jump to the first comment of this posting.">22 comments</a></li>
</ul></div>
</div>
<div id="node-243" class="node teaser story cal">
    <acronym class="calendar published" title="2006-09-01T19:26:03+02:00">
  <span class="month">Sep</span>
  <span class="day">01</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/243/index.html">MySQL Cluster woes ... solved !</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>Those who were present at the 1st Belgian MySQL UG might have overheard that I had spend the better part of tuesday , fighting with an unstable MySQL cluster,  ndb nodes dying with no reason whatsoever and no traces in the MySQL logfiles.</p>
<p>I found the issue wednesday evening,  it wasn't even MySQL related.</p>
<pre> Aug 30 12:30:30 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
 Aug 30 12:30:30 DB-A last message repeated 6 times
 Aug 30 12:30:43 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1f0/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
 Aug 30 12:30:44 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0xf0/0)
 Aug 30 12:30:45 DB-A kernel: __alloc_pages: 0-order allocation failed (gfp=0x1d2/0)
 Aug 30 12:30:45 DB-A kernel: VM: killing process ndbd</pre><p>Thing was that I was testing on one of the older platforms which don't have the 2Gb of memory I`m used to on my test platforms, but only have 512.<br />
Addedd some more bars :)</p>
<p>On a related note , someone just posted a comment spam to one of my former MySQL articles pointing to some site trying to sell a product converting a MySQL database to some proprietary file format  ,  so I`m wondering .. which moron would want to do that ?  Just as I wonder which morons would actually buy stuff they get offered in spam anyway ..</p>
</div>
</div>
<div id="node-242" class="node teaser story cal">
    <acronym class="calendar published" title="2006-08-25T17:25:37+02:00">
  <span class="month">Aug</span>
  <span class="day">25</span>
    <span class="year">2006</span>
    </acronym>
    <h2 class="title"><a href="/blog/node/242/index.html">Kung Fu Apps �  Amazon Just Out Innovated EMC</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
            </div>
  <div class="content"><p>Kung Fu Apps reports that <a href="http://www.kungfuapps.com/2006/08/25/amazon-just-out-innovated-emc-2/">Amazon Just Out Innovated EMC</a> , it might even be true :)</p>
<p>The <a href="http://www.amazon.com/gp/browse.html?node=201590011">concept of serving virtual machines</a> on demand looks really promising,<br />
Kung Fu claims it's all based on Xen,  understandable, at first  I couldn't find any direct references on the Amazon site but digging deeper showed <a href="http://developer.amazonwebservices.com/connect/thread.jspa?threadID=11507&amp;tstart=0">this thread </a> where one Amazonian mentions  their platform  is based on an Fedora Core Xen platform.</p>
<p>Really great stuff.  Now if only the full code to the API would become available so that we can use it ourselves  rather than having to pay Amazon for bandwith and storage which we have plenty locally :)  Or did I overlook the download button ?</p>
</div>
</div>
<div class="item-list"><ul class="pager"><li class="pager-first first"><a href="index.html" title="Go to first page" class="active">« first</a></li>
<li class="pager-previous"><a href="index78.html?page=78" title="Go to previous page" class="active">‹ previous</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-item"><a href="index75.html?page=75" title="Go to page 76" class="active">76</a></li>
<li class="pager-item"><a href="index76.html?page=76" title="Go to page 77" class="active">77</a></li>
<li class="pager-item"><a href="index77.html?page=77" title="Go to page 78" class="active">78</a></li>
<li class="pager-item"><a href="index78.html?page=78" title="Go to page 79" class="active">79</a></li>
<li class="pager-current">80</li>
<li class="pager-item"><a href="index80.html?page=80" title="Go to page 81" class="active">81</a></li>
<li class="pager-item"><a href="index81.html?page=81" title="Go to page 82" class="active">82</a></li>
<li class="pager-item"><a href="index82.html?page=82" title="Go to page 83" class="active">83</a></li>
<li class="pager-item"><a href="index83.html?page=83" title="Go to page 84" class="active">84</a></li>
<li class="pager-ellipsis">…</li>
<li class="pager-next"><a href="index80.html?page=80" title="Go to next page" class="active">next ›</a></li>
<li class="pager-last last"><a href="index104.html?page=104" title="Go to last page" class="active">last »</a></li>
</ul></div></div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
