<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">


<!-- Mirrored from 127.0.0.1:8080/blog/serial-typo by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 06:42:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>The Serial typo | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/aggregator/aggregator/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/node/node/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/poll/poll/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/theme/content-module/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/date/date/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/geshifilter/geshifilter/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../misc/farbtastic/farbtastic/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/calendar/calendar/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/typography/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/layout/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/style/index.css?9" />
<link type="text/css" rel="stylesheet" media="print" href="../sites/default/themes/barlow/print/index.css?9" />
</head>

<body class="not-front not-logged-in page-node node-type-blog one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../faq/index/index.html">FAQ</a> and  <a href="../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../index/index.html">Home</a> &#8594; <a href="../blog/index.html">Blogs</a> &#8594; <a href="../blogs/kris-buytaert/index.html">Kris Buytaert&#039;s blog</a></div></div>
  <h2 id="title">The Serial typo</h2>
<div class="content">
<div id="node-963" class="node  blog">
<div class="content"><p><a href="http://www.vanginderachter.be/" rel="nofollow">Serge</a>  pinged me today over Jabber asking hot to tackle an accidental typo in the serial number of a zonefile.</p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">dig +short SOA ibbt.be</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">dns1.ibbt.be. admin.ibbt.be. 2009141017 7200 3600 1209600 432000</div></li></ol></pre></div><br />
No really we don't need no 13th and 14th month.  Given the fact that lots of us use the YYYYMMDDID format That would mean that we'd have to wait  for 20100101 to happen before we can update in  a readable fashion again ..</p>
<p>Serge then looked some further and found <a href="http://www.zytrax.com/books/dns/ch9/serial.html" rel="nofollow">this</a> article  which documents a nice solution for a quick fix of the problem</p>
<p><cite><br />
First, add 2147483647 to the erroneous value, for example, 2008022800 + 2147483647 = 4155506447, restart BIND or reload the zone, and make absolutely sure the zone has transferred to all the slave servers. Second, set the SOA serial number for the zone to the correct value and restart BIND or reload the zone again. The zone will transfer to the slave because the serial number has wrapped through zero and is therefore greater that the previous value of 4155506447!<br />
</cite></p>
<p>Oh and the twitter hashtag is #dnsproblem  fwiw :)</p>
</div>
  <div class="meta">
   <div class="submitted">Submitted by Kris Buytaert on Tue, 11/24/2009 - 21:16</div>
     <div class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1338 first"><a href="../category/dnsproblenm/index.html" rel="tag" title="">dnsproblenm</a></li>
<li class="taxonomy_term_1340"><a href="../category/serialnr/index.html" rel="tag" title="">serialnr</a></li>
<li class="taxonomy_term_1339 last"><a href="../category/zonefile/index.html" rel="tag" title="">zonefile</a></li>
</ul></div>
     <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
  </div>
</div>
<div id="comments">
  <h2>Comments</h2>
  <a id="comment-3868"></a>
<div id="comment-1" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <a href="http://carlsblog.miazona.com/" title="View user website." rel="external nofollow"><img src="http://www.gravatar.com/avatar/ebd143d72ebd9320f74f346e4315e839.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="LinyTicky&#039;s picture" title="LinyTicky&#039;s picture"  /></a></div>
<h3>
    <a class="id" href="#comment-3868">#1</a>
    <span class="author"><a href="http://carlsblog.miazona.com/">LinyTicky</a></span>  : <span class="title"><a href="index.html#comment-3868" class="active">...</a></span>
  </h3>
  <div class="content"><p>Stunning issue, I did not thought it was going to be so stunning when I looked at the title with link.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/25/2009 - 16:51</div>
  </div>
<a id="comment-3866"></a>
<div id="comment-2" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <img src="http://www.gravatar.com/avatar/d3423d87270f00a111722beafed29ea1.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Kristof Hardy&#039;s picture" title="Kristof Hardy&#039;s picture"  /></div>
<h3>
    <a class="id" href="#comment-3866">#2</a>
    <span class="author"><span class="anonymous" title="not verified">Kristof Hardy</span></span>  : <span class="title"><a href="index.html#comment-3866" class="active">MySQL based DNS</a></span>
  </h3>
  <div class="content"><p>First of all, great fix and nice to know that it exists. It also might be a good time to try PowerDNS and use MySQL as a backend :-) Use a clean webinterface or a script to manipulate the MySQL data and make the serial number auto increment. (technically it's not even needed when your MySQL servers are synced..) This could also be used to log changes made to your zones.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/25/2009 - 09:07</div>
  </div>
<a id="comment-3865"></a>
<div id="comment-3" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <a href="http://www.paeps.cx/" title="View user website." rel="external nofollow"><img src="http://www.gravatar.com/avatar/9cf5ffa2e16fa49302962f40f85c6e46.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Philip Paeps&#039;s picture" title="Philip Paeps&#039;s picture"  /></a></div>
<h3>
    <a class="id" href="#comment-3865">#3</a>
    <span class="author"><a href="http://www.paeps.cx/">Philip Paeps</a></span>  : <span class="title"><a href="index.html#comment-3865" class="active">Scripts don&#039;t make typos</a></span>
  </h3>
  <div class="content"><p>If you're updating zone serial numbers by hand, you're doing it wrong.  Also, nslint will flag this and complain.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/24/2009 - 23:18</div>
  </div>
<div class="indented"><a id="comment-3867"></a>
<div id="comment-4" class="comment comment-by-node-author comment-node-author clear-block">
  <div class="picture">
  <img src="http://www.gravatar.com/avatar/70c5686357dd9db5d6f777f6d5624235.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Kris Buytaert&#039;s picture" title="Kris Buytaert&#039;s picture"  /></div>
<h3>
    <a class="id" href="#comment-3867">#4</a>
    <span class="author">Kris Buytaert</span>  : <span class="title"><a href="index.html#comment-3867" class="active">Me ?</a></span>
  </h3>
  <div class="content"><p>Who said it was me ? :)</p>
</div>
        <br class="clear" />
    <div class="submitted">11/25/2009 - 10:24</div>
  </div>
</div></div>
</div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>

<!-- Mirrored from 127.0.0.1:8080/blog/serial-typo by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Sep 2017 06:42:04 GMT -->
</html>
