<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>To Package,  and what to package | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="shortcut icon" href="../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/aggregator/aggregator/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/node/node/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/poll/poll/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/defaults/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/system/system-menus/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/user/user/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/theme/content-module/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/date/date/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/geshifilter/geshifilter/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../misc/farbtastic/farbtastic/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/calendar/calendar/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/all/modules/views/css/views/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../modules/comment/comment/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/typography/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/layout/index.css?9" />
<link type="text/css" rel="stylesheet" media="all" href="../sites/default/themes/barlow/style/index.css?9" />
<link type="text/css" rel="stylesheet" media="print" href="../sites/default/themes/barlow/print/index.css?9" />
</head>

<body class="not-front not-logged-in page-node node-type-blog one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../faq/index/index.html">FAQ</a> and  <a href="../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../index/index.html">Home</a> &#8594; <a href="../blog/index.html">Blogs</a> &#8594; <a href="../blogs/kris-buytaert/index.html">Kris Buytaert&#039;s blog</a></div></div>
  <h2 id="title">To Package,  and what to package</h2>
<div class="content">
<div id="node-1020" class="node  blog">
<div class="content"><p>One of the open sessions last week (corr: last month) at Devopsdays 2010 Hamburg was the one on packaging software.   It's always a big question on wether you package the software that runs in your infrastructure or not.     And if you package it .. what do you package ..</p>
<p>The general consensus of the open space was pretty much that you always package the software you deploy, unless you have some very good reasons not to.  Pretty much the way I've been doing for ages ..</p>
<p>Good reasons that were mentionned were the use of scripting languages that update extremely frequently, but certainly not for compiled code,  compiling code on a production machine also is a big nono.</p>
<p>There also was a consensus that you DO NOT PUT CONFIGURATION inside a package.  You can put in default templates, but you don't put in config files that should change frequently ..  There's plenty of configuration mgmt systems out there do that kind of stuff for you.</p>
<p>The naysayers claimed that packaging brings way to much overhead ... and others claim it takes to much time... however I feel it<br />
should just be a 1 time effort that brings devs and ops closer to eachother and from there on it should automated<br />
New versions of software don't mean that the packaging effort needs to be done again..</p>
<p>Another topic that gathered lots of questions was if you should be capable of installing multiple versions of the same package  , lots of people mentionned they didn't like fiddling with symlinks however the best comment in that discussion was that there is already a system out there , the <cite>alternatives</cite> setup .. provide by most operating systems that allow you to do so in a pretty clean way. I must admit I should look into <cite>alternatives</cite> more in depth too ..</p>
<p>The ever recurring question is wether one should package war files ?  Sure  as you then can also use the dependency models a package mgmt system brings to deploy the dependent libraries.</p>
<p>However when people ship products, rather than a live service   they seem to package everything , mainly because the code in the product isn't changing as quickly as a live website, or internally used application.</p>
<p>The biggest problem however is the frustration people have with  GEM or CPAN  packages .. they add yet another layer of management to a system,  most lots of CPAN packages are already packaged.. but when it comes to GEM's disaster strikes.   There's a lot of work left for distributions to integrate GEM and CPAN style packages.</p>
</div>
  <div class="meta">
   <div class="submitted">Submitted by Kris Buytaert on Mon, 11/01/2010 - 21:20</div>
     <div class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_471 first"><a href="../taxonomy/term/471/index.html" rel="tag" title="">apt</a></li>
<li class="taxonomy_term_1328"><a href="../category/devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_1351"><a href="../category/package/index.html" rel="tag" title="">package</a></li>
<li class="taxonomy_term_472 last"><a href="../taxonomy/term/472/index.html" rel="tag" title="">rpm</a></li>
</ul></div>
     <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first last"><a href="../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
</ul></div>
  </div>
</div>
<div id="comments">
  <h2>Comments</h2>
  <a id="comment-4128"></a>
<div id="comment-1" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <img src="http://www.gravatar.com/avatar/267c33a9b79449e467090461572db7f2.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Sarah Harris&#039;s picture" title="Sarah Harris&#039;s picture"  /></div>
<h3>
    <a class="id" href="#comment-4128">#1</a>
    <span class="author"><span class="anonymous" title="not verified">Sarah Harris</span></span>  : <span class="title"><a href="index.html#comment-4128" class="active">Interesting post</a></span>
  </h3>
  <div class="content"><p>Great question: to pack or not to pack? I'm on the side of packing. I think the point you made about not putting config files in is good to note. I also agree with Eric's comment about war files. I've always packed up the unzipped versions of the war files, it's just easier that way.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/03/2010 - 18:13</div>
  </div>
<a id="comment-4126"></a>
<div id="comment-2" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <a href="http://telecomnew-s.blogspot.com/" title="View user website." rel="external nofollow"><img src="http://www.gravatar.com/avatar/c245605d83e0071358bee8fe5c5c9d11.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Eve telecom news freak&#039;s picture" title="Eve telecom news freak&#039;s picture"  /></a></div>
<h3>
    <a class="id" href="#comment-4126">#2</a>
    <span class="author"><a href="http://telecomnew-s.blogspot.com/">Eve telecom news freak</a></span>  : <span class="title"><a href="index.html#comment-4126" class="active">Keep it packed...</a></span>
  </h3>
  <div class="content"><p>Jus like Chris..I think unpacking .war files is a hassle we pick by ourselves...</p>
<p>There are many better containers available these days, and the same rule about keeping your .war files zipped applies to all of them.</p>
<p>I deal quite many with building deb packages and have used some tools available as well.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/02/2010 - 19:24</div>
  </div>
<a id="comment-4124"></a>
<div id="comment-3" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <img src="http://www.gravatar.com/avatar/1822929e70889ed1dbc4bf227685b7d3.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Anonymous&#039;s picture" title="Anonymous&#039;s picture"  /></div>
<h3>
    <a class="id" href="#comment-4124">#3</a>
    <span class="author"><span class="anonymous" title="not verified">Anonymous</span></span>  : <span class="title"><a href="index.html#comment-4124" class="active">&gt;&gt; compiling code on a</a></span>
  </h3>
  <div class="content"><p>&gt;&gt; compiling code on a production machine also is a big nono.</p>
<p>unless the official package was not compiled with the options/libraries you need...assuming there is an official package...</p>
<p>&gt;&gt; The biggest problem however is the frustration<br />
&gt;&gt; people have with GEM or CPAN packages .. they add &gt;&gt; yet another layer of management to a system</p>
<p>You sound like a naysayer now :)</p>
<p>The naysayers claimed that packaging brings way to much overhead ... and others claim it takes to much time... however I feel it<br />
should just be a 1 time effort that brings devs and ops closer to eachother and from there on it should automated<br />
New versions of software don't mean that the packaging effort needs to be done again.</p>
<p>( part of the reason CPAN and GEMS exist is because perl and ruby run on many platforms with many different packaging systems (or lack thereof) )</p>
<p>Truth be told, I mostly agree with everything you said, but be thankful if you have the luxury of doing things from scratch, instead of inheriting existing system(s).</p>
</div>
        <br class="clear" />
    <div class="submitted">11/02/2010 - 18:04</div>
  </div>
<div class="indented"><a id="comment-4125"></a>
<div id="comment-4" class="comment comment-by-node-author comment-node-author clear-block">
  <div class="picture">
  <img src="http://www.gravatar.com/avatar/70c5686357dd9db5d6f777f6d5624235.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Kris Buytaert&#039;s picture" title="Kris Buytaert&#039;s picture"  /></div>
<h3>
    <a class="id" href="#comment-4125">#4</a>
    <span class="author">Kris Buytaert</span>  : <span class="title"><a href="index.html#comment-4125" class="active">compiling</a></span>
  </h3>
  <div class="content"><p>Still if the official package wasn't compiled with the options you want .. you don't recompile / package on your production hosts but in your build environment.</p>
<p>And as for naysayer .. the argument isn't against the package overhead .. it's against yut another unintegrated package.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/02/2010 - 19:00</div>
  </div>
</div><a id="comment-4123"></a>
<div id="comment-5" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <a href="http://www.chris-read.net/" title="View user website." rel="external nofollow"><img src="http://www.gravatar.com/avatar/4b7720e3f4c8e10f80b6b86cbdc3e3d8.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Chris Read&#039;s picture" title="Chris Read&#039;s picture"  /></a></div>
<h3>
    <a class="id" href="#comment-4123">#5</a>
    <span class="author"><a href="http://www.chris-read.net/">Chris Read</a></span>  : <span class="title"><a href="index.html#comment-4123" class="active">Keep those .war files packed!</a></span>
  </h3>
  <div class="content"><p>I've always found that unpacking .war files is just asking for trouble. In addition to the deployment pain that Tomcat especially has with it, it's a great temptation for people to just go and change a file in there to fix a small problem. That way the change gets lost in the next upgrade.</p>
<p>A much better option is make your application look for its configuration in a well known place on the filesystem path. With Tomcat specifically I've had good results getting my apps to load their config from a file in $CATALINA_HOME/conf/. </p>
<p>This in no way should be seen as me endorsing Tomcat though! There are far better containers available these days, and the same rule about keeping your .war files zipped applies to all of them.</p>
<p>If your argument is that you need to modify your web.xml or similar for each environment, then you're just doing it wrong...</p>
</div>
        <br class="clear" />
    <div class="submitted">11/02/2010 - 12:57</div>
  </div>
<a id="comment-4122"></a>
<div id="comment-6" class="comment comment-by-anonymous clear-block">
  <div class="picture">
  <a href="http://eric.eisenhart.name/" title="View user website." rel="external nofollow"><img src="http://www.gravatar.com/avatar/f9f349676938cdd38abbbe6e619d7315.jpg?d=http%3A%2F%2F127.0.0.1%3A8080%2Fblog%2Fsites%2Fall%2Fmodules%2Fgravatar%2Favatar.png&amp;s=85&amp;r=G" alt="Eric Eisenhart&#039;s picture" title="Eric Eisenhart&#039;s picture"  /></a></div>
<h3>
    <a class="id" href="#comment-4122">#6</a>
    <span class="author"><a href="http://eric.eisenhart.name/">Eric Eisenhart</a></span>  : <span class="title"><a href="index.html#comment-4122" class="active">My 2 cents</a></span>
  </h3>
  <div class="content"><p>1) war files: I've dealt with this before, and you can package a war file, but it's better to package up the unzipped version of the war file (tomcat already unzips it for you), so that it's easier for your configuration management system to muck around with the stuff inside the war that's more like configuration. (there's always something)</p>
<p>2) CPAN/GEM: there's tools to automate most of the work of making either into an RPM.  For CPAN there's cpanspec, cpan2rpm and ovid. For GEM there's gem2rpm.  I don't deal much with building deb packages but I'd assume there's similar tools available for building deb packages as well.</p>
</div>
        <br class="clear" />
    <div class="submitted">11/02/2010 - 01:24</div>
  </div>
</div>
</div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
