<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">

<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head profile="http://gmpg.org/xfn/11">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>icinga | Everything is a Freaking DNS problem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="alternate" type="application/rss+xml" title="RSS - icinga" href="../../taxonomy/term/1292/0/feed/index.html" />
<link rel="shortcut icon" href="../../misc/favicon/index.ico" type="image/x-icon" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/aggregator/aggregator/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/node/node/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/poll/poll/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/defaults/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/system/system-menus/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/user/user/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/cck/theme/content-module/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/date/date/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/geshifilter/geshifilter/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../misc/farbtastic/farbtastic/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/calendar/calendar/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/cck/modules/fieldgroup/fieldgroup/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/all/modules/views/css/views/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../modules/taxonomy/taxonomy/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/default/themes/barlow/typography/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/default/themes/barlow/layout/index.css?i" />
<link type="text/css" rel="stylesheet" media="all" href="../../sites/default/themes/barlow/style/index.css?i" />
<link type="text/css" rel="stylesheet" media="print" href="../../sites/default/themes/barlow/print/index.css?i" />
</head>

<body class="not-front not-logged-in page-taxonomy one-sidebar sidebar-left">
<div id="wrapper">

<div id="header" class="p1">

  <div id="branding">
      <div id="logo">
    <a href="../../index/index.html" title="Everything is a Freaking DNS problem" rel="home">
    <img src="../../files/me_small/index.jpg" alt="Everything is a Freaking DNS problem" id="logo-image" />
    </a></div>
        <h1><a href="../../index/index.html" title="Home" rel="home">Everything is a Freaking DNS problem</a></h1>
        <div class="slogan">Devops Needs Sushi</div>
    </div>

  
  <div class="skip"><a href="#content" title="Skip to site content" accesskey="2">Skip to content</a></div>

  
  <div id="menu">
      </div>
</div>

<div id="content">

  <div id="sidebar-left" class="sidebar">
  <div class="block block-block" id="block-block-5">
  <div class="content"><p>This is the blog where <a href="http://www.krisbuytaert.be/bio.shtml">Kris Buytaert</a> points you to extremely interresting and totally irrelevant stuff that happens in Life , The Universe and Everything</p>
<p>Questions, want to contact me please read my <a href="../../faq/index/index.html">FAQ</a> and  <a href="../../social/index/index.html">Social Media Policy</a></p>
<p>You can hire me! I work as a consultant for <a href="http://www.inuits.eu/">Inuits.eu</a></p>
</div>
</div>

  </div>

<div id="main">
  <div id="breadcrumb"><div class="breadcrumb"><a href="../../index/index.html">Home</a></div></div>
  <h2 id="title">icinga</h2>
<div class="content">
<div id="node-1076" class="node teaser blog cal">
    <acronym class="calendar published" title="2013-02-05T10:10:15+01:00">
  <span class="month">Feb</span>
  <span class="day">05</span>
    <span class="year">2013</span>
    </acronym>
    <h2 class="title"><a href="../../checkgraphite/index.html">check_graphite</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1470 first"><a href="../graphite/index.html" rel="tag" title="">graphite</a></li>
<li class="taxonomy_term_1292 active"><a href="index.html" rel="tag" title="" class="active">icinga</a></li>
<li class="taxonomy_term_1491"><a href="../monitoringlove/index.html" rel="tag" title="">monitoringlove</a></li>
<li class="taxonomy_term_1469"><a href="../monitoringsucks/index.html" rel="tag" title="">monitoringsucks</a></li>
<li class="taxonomy_term_439 last"><a href="../../taxonomy/term/439/index.html" rel="tag" title="">puppet</a></li>
</ul></span>
        </div>
  <div class="content"><p>During my Puppetcamp Gent talk last week, I explained how to get alerts based on trends from graphite. A number of people asked ,e how to do that.</p>
<p>First lets quickly explain why you might want to do that .<br />
Sometimes you don't care about the current value of a metric..as an example take  a Queing system .. there is no problem if there are messages added to the queue, not even if there are a lot of messages on the queue,  there might however be a problem if  over a certain period the number of messages on a queue stays to high.</p>
<p>In this example I`m monitoring the queue length of a hornetq setup which is exposed by JMX.<br />
On the server runnnig HornetQ I have an exported resource that tells the JMXTrans server to send the  MessageCount  to graphite<br />
(you could also do this using collectd plugins) </p>
<p><div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">@@jmxtrans::graphite {&quot;MessageCountMonitor-${::fqdn}&quot;:</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">    jmxhost =&gt; hiera('hornetqserver'),</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            jmxport =&gt; &quot;5446&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            objtype =&gt; 'org.hornetq:type=Queue,*',</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            attributes =&gt;  '&quot;MessageCount&quot;,&quot;MessagesAdded&quot;,&quot;ConsrCount&quot;',</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            resultalias =&gt; &quot;hornetq&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            typenames =&gt; &quot;name&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            graphitehost =&gt; hiera('graphite'),</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">            graphiteport =&gt; &quot;2003&quot;,</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">}</div></li></ol></pre></div></p>
<p>This gives me a computable url on which I can get the graphite view </p>
<p>The next step then is to configure a nagios check that verifies this data. For that I need to use the <a href="http://github.com/datacratic/check_graphite" rel="nofollow">check_graphite</a> plugin from Datacratic ..</p>
<p>Which can work with an nrpe config like<br />
<div class="geshifilter"><pre class="text geshifilter-text" style="font-family:monospace;"><ol><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">### File managed with puppet ###</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">### Served by:        '&lt;%= scope.lookupvar('::servername') %&gt;'</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">### Module:           '&lt;%= scope.to_hash['module_name'] %&gt;'</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">### Template source:  '&lt;%= template_source %&gt;'</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">&nbsp;</div></li><li style="font-family: monospace; font-weight: normal;"><div style="font-family: monospace; font-weight: normal; font-style: normal">command[check_hornetq]=/usr/lib64/nagios/plugins/check_graphite -u &quot;http://&lt;%= graphitehost%&gt;/render?target=servers.&lt;%= scope.lookupvar('::fqdn').gsub(/\./,'_')%&gt;_5446.hornetq.docstore_private_trigger_notification.MessageCount&amp;from=-30minutes&amp;rawData=true&quot; -w 2000 -c 20000</div></li></ol></pre></div></p>
<p>I define this check on the host where HornetQ is running  as it then will map to that host on Icinga/Nagios  rather than throw a host error on an unrelated host.</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../checkgraphite/index.html#comments" title="Jump to the first comment of this posting.">2 comments</a></li>
</ul></div>
</div>
<div id="node-1057" class="node teaser blog cal">
    <acronym class="calendar published" title="2012-01-03T19:23:00+01:00">
  <span class="month">Jan</span>
  <span class="day">03</span>
    <span class="year">2012</span>
    </acronym>
    <h2 class="title"><a href="../../monitoringsucks-and-well-fix-it/index.html">#monitoringsucks and we&#039;ll fix it !</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_1473 first"><a href="../collectd/index.html" rel="tag" title="">collectd</a></li>
<li class="taxonomy_term_1328"><a href="../devops/index.html" rel="tag" title="">devops</a></li>
<li class="taxonomy_term_1471"><a href="../ganglia/index.html" rel="tag" title="">ganglia</a></li>
<li class="taxonomy_term_1470"><a href="../graphite/index.html" rel="tag" title="">graphite</a></li>
<li class="taxonomy_term_1292 active"><a href="index.html" rel="tag" title="" class="active">icinga</a></li>
<li class="taxonomy_term_938"><a href="../../taxonomy/term/938/index.html" rel="tag" title="">monitoring</a></li>
<li class="taxonomy_term_1469"><a href="../monitoringsucks/index.html" rel="tag" title="">monitoringsucks</a></li>
<li class="taxonomy_term_1472"><a href="../munin/index.html" rel="tag" title="">munin</a></li>
<li class="taxonomy_term_890"><a href="../../taxonomy/term/890/index.html" rel="tag" title="">nagios</a></li>
<li class="taxonomy_term_1474 last"><a href="../rrd/index.html" rel="tag" title="">rrd</a></li>
</ul></span>
        </div>
  <div class="content"><p>If you are hacking on monitoring solutions, and want to talk to your peers solving the problem<br />
Block the monday and tuesday after fosdem in your calendar !</p>
<p>That's right on february 6 and 7 a bunch of people interrested to fix the problem will be meeting , discussing and hacking stuff together in Antwerp</p>
<p>In short  a #monitoringsucks hackathon</p>
<p>Inuits is opening up their offices for everybody who wants to join the effort Please let us (@KrisBuytaert and @patrickdebois) know if you want to join us in Antwerp</p>
<p>Obviously if you can't make it to Antwerp you can join the effort on ##monitoringsucks on Freenode or on Twitter.</p>
<p>The <a href="http://www.inuits.eu/contact" rel="nofollow">location will be Duboistraat 50 , Antwerp</a><br />
It is about 10 minutes walk from the Antwerp Central Trainstation<br />
Depending on Traffic Antwerp is about half an hour north of Brussels and there are hotels at walking distance from the venue.</p>
<p>Plenty of parking space is available on the other side of the Park</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../monitoringsucks-and-well-fix-it/index.html#comments" title="Jump to the first comment of this posting.">8 comments</a></li>
</ul></div>
</div>
<div id="node-939" class="node teaser blog cal">
    <acronym class="calendar published" title="2009-09-23T21:20:57+02:00">
  <span class="month">Sep</span>
  <span class="day">23</span>
    <span class="year">2009</span>
    </acronym>
    <h2 class="title"><a href="../../monitoringforge/index.html">MonitoringForge</a></h2>
      <div class="submitted">
          <span class="author">By: Kris Buytaert</span>
              <span class="taxonomy">Tags: <ul class="links inline"><li class="taxonomy_term_889 first"><a href="../../taxonomy/term/889/index.html" rel="tag" title="">hyperic</a></li>
<li class="taxonomy_term_1292 active"><a href="index.html" rel="tag" title="" class="active">icinga</a></li>
<li class="taxonomy_term_1293"><a href="../look-no-link/index.html" rel="tag" title="">look no link</a></li>
<li class="taxonomy_term_938"><a href="../../taxonomy/term/938/index.html" rel="tag" title="">monitoring</a></li>
<li class="taxonomy_term_890"><a href="../../taxonomy/term/890/index.html" rel="tag" title="">nagios</a></li>
<li class="taxonomy_term_887"><a href="../../taxonomy/term/887/index.html" rel="tag" title="">zabbix</a></li>
<li class="taxonomy_term_1182 last"><a href="../zenos/index.html" rel="tag" title="">zenos</a></li>
</ul></span>
        </div>
  <div class="content"><p>I found the  initial announcement in my Spambox, thats where I send all the mails from GroundWork as unsubscribing from their marketing lists doesn't seem to work ..</p>
<p><a href="http://www.adventuresinoss.com/?p=1117" rel="nofollow">Tarus</a> pointed it out.. he already mentionned Marketing, low community imput etc..</p>
<p>Nevertheles I had a look,  and my first and last impression was,  NagiosForge, no active community, and empty pages on other imvho more relevant Monitoring Projects created by GroundWork employees.</p>
<p><a href="http://www.johnmwillis.com/" rel="nofollow">Big John </a> coined the "to pull a GroundWork" phrase aiming at their early products, err logo placements.   When <a href="http://www.inuits.be/">we</a> were evaluating differen Open Source monitoring tools for our OLS paper about 18 months ago we looked at the tool and it  didn't make the cut .. it failed in all areas where it claimed to be strong,  ease of installation , lack of errorhandling during the installation, etc  ... some while later another collegue tried again  and we ran into similar problems</p>
<p>Yet some people claim it to be a great product..   I'm not a fan yet ...maybe one day they they'll know to convince me .. but for now<br />
When I need Nagios .. I`ll be looking at <a href="http://djagios.org/" rel="nofollow">Djagios</a> , <a href="http://opsview.org/" rel="nofollow">Opsview</a> , <a href="http://www.icinga.org/" rel="nofollow">Icinga</a> or the real thing.</p>
<p>However, ther's still Hyperic, Zenoss and Zabbix :)</p>
</div>
  <div class="links">&raquo; <ul class="links inline"><li class="blog_usernames_blog first"><a href="../../blogs/kris-buytaert/index.html" title="Read Kris Buytaert&#039;s latest blog entries.">Kris Buytaert&#039;s blog</a></li>
<li class="comment_comments last"><a href="../../monitoringforge/index.html#comments" title="Jump to the first comment of this posting.">1 comment</a></li>
</ul></div>
</div>
</div>
</div>

</div>

<div id="footer" class="footer">
  No really .. everything is a funky DNS problem , you'll realise I`m right pretty soon !   
  <p class="credits">Powered by <a href="http://www.drupal.org/">Drupal</a> and the <a href="http://www.drupal.org/project/barlow">Barlow</a> theme by <a href="http://egonbianchet.net/">Egon Bianchet</a>.</p>
</div>

</div>

</body>
</html>
